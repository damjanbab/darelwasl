{:version "88e16de331e4164ae4c6976ebc3e3cebabb0bedc79d4f88285becf2e6fc7b53d", :entries [{:id "action/action/activation-step-delete", :kind :action, :name "Activation Step Delete", :registry :actions, :registry-id :cap/action/activation-step-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Delete an activation step.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/activation-step], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:activation.step/id]}, :title "Activation Step Delete", :side-effects #:http{:endpoints ["/api/content/activation-steps/:id"]}, :inputs #:activation.step{:id :uuid}, :id :cap/action/activation-step-delete, :audit {:records [:content/change], :fields [:activation.step/id]}, :outputs {:status :deleted}, :version "v1"}} {:id "action/action/activation-step-upsert", :kind :action, :name "Activation Step Upsert", :registry :actions, :registry-id :cap/action/activation-step-upsert, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Create/update activation steps.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/activation-step], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:activation.step/id]}, :title "Activation Step Upsert", :side-effects #:http{:endpoints ["/api/content/activation-steps" "/api/content/activation-steps/:id"]}, :inputs #:activation.step{:id :uuid?, :title :string, :order :long?, :phase :uuid?}, :id :cap/action/activation-step-upsert, :audit {:records [:content/change], :fields [:activation.step/id :activation.step/title]}, :outputs {:activation.step #:activation.step{:id :uuid}}, :version "v1"}} {:id "action/action/auth-login", :kind :action, :name "Login", :registry :actions, :registry-id :cap/action/auth-login, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/local-session}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/users]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/user], :views [:cap/view/login]}, :idempotency {:strategy :dedupe-on, :keys [:user/username]}, :title "Login", :side-effects ["Create session for user"], :inputs #:user{:username :string, :password :string}, :id :cap/action/auth-login, :audit {:records [:auth/login], :fields [:user/username]}, :outputs {:session/token :string, :user/id :uuid, :user/roles [:set :keyword]}, :version "v1"}} {:id "action/action/betting-bet-log", :kind :action, :name "Betting Log Bet", :registry :actions, :registry-id :cap/action/betting-bet-log, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/betting]}, :tooling [], :related {:schema [:cap/schema/betting-bet :cap/schema/betting-fact], :views [:cap/view/betting]}, :idempotency {:strategy :none}, :title "Betting Log Bet", :side-effects ["Persist bet and fact"], :inputs {:betting.event/id :uuid, :betting.bet/market-key :string?, :betting.bet/selection :string, :betting.bet/odds-decimal :double?, :betting.bookmaker/key :string?}, :id :cap/action/betting-bet-log, :audit {:records [:betting/bet-log], :fields [:betting.event/id :betting.bet/selection]}, :outputs #:betting.bet{:id :uuid}, :version "v1"}} {:id "action/action/betting-close", :kind :action, :name "Betting Capture Close", :registry :actions, :registry-id :cap/action/betting-close, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/rezultati}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/betting]}, :tooling [], :related {:schema [:cap/schema/betting-event :cap/schema/betting-quote], :views [:cap/view/betting]}, :idempotency {:strategy :none}, :title "Betting Capture Close", :side-effects ["Fetch Rezultati match odds" "Fetch execution book odds" "Store close snapshots"], :inputs {:betting.event/id :uuid, :sport-path :string?, :refresh? :boolean?}, :id :cap/action/betting-close, :audit {:records [:betting/close-capture], :fields [:betting.event/id]}, :outputs {:quotes :list}, :version "v1"}} {:id "action/action/betting-events", :kind :action, :name "Betting Events (Rezultati)", :registry :actions, :registry-id :cap/action/betting-events, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/rezultati}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/betting]}, :tooling [], :related {:schema [:cap/schema/betting-event], :views [:cap/view/betting]}, :idempotency {:strategy :none}, :title "Betting Events (Rezultati)", :side-effects ["Fetch Rezultati odds list" "Upsert betting events"], :inputs {:day-offset :long?, :sport-path :string?, :refresh? :boolean?}, :id :cap/action/betting-events, :audit {:records [:betting/events]}, :outputs {:events :list}, :version "v1"}} {:id "action/action/betting-odds", :kind :action, :name "Betting Odds Snapshot", :registry :actions, :registry-id :cap/action/betting-odds, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/rezultati}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/betting]}, :tooling [], :related {:schema [:cap/schema/betting-event :cap/schema/betting-quote], :views [:cap/view/betting]}, :idempotency {:strategy :none}, :title "Betting Odds Snapshot", :side-effects ["Fetch Rezultati match odds" "Fetch execution book odds" "Store quote snapshots"], :inputs {:betting.event/id :uuid, :sport-path :string?, :refresh? :boolean?}, :id :cap/action/betting-odds, :audit {:records [:betting/quote-capture], :fields [:betting.event/id]}, :outputs {:quotes :list}, :version "v1"}} {:id "action/action/betting-settle", :kind :action, :name "Betting Settle Bet", :registry :actions, :registry-id :cap/action/betting-settle, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/betting]}, :tooling [], :related {:schema [:cap/schema/betting-bet :cap/schema/betting-fact], :views [:cap/view/betting]}, :idempotency {:strategy :none}, :title "Betting Settle Bet", :side-effects ["Persist bet settlement and fact"], :inputs #:betting.bet{:id :uuid, :status :keyword}, :id :cap/action/betting-settle, :audit {:records [:betting/settle], :fields [:betting.bet/id :betting.bet/status]}, :outputs #:betting.bet{:id :uuid}, :version "v1"}} {:id "action/action/business-upsert", :kind :action, :name "Business Upsert", :registry :actions, :registry-id :cap/action/business-upsert, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Create/update business entity (nav label, hero headline/strapline, contact ref, hero stats/flows, visibility).", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/business :cap/schema/contact :cap/schema/hero-stat :cap/schema/hero-flow], :views [:cap/view/control-panel :cap/view/site-home :cap/view/site-services :cap/view/site-about :cap/view/site-contact]}, :idempotency {:strategy :dedupe-on, :keys [:business/id :business/name]}, :title "Business Upsert", :side-effects #:http{:endpoints ["/api/content/businesses" "/api/content/businesses/:id"]}, :inputs #:business{:tagline :string?, :visible? :boolean?, :hero-headline :string?, :nav-label :string?, :name :string, :mission :string?, :summary :string?, :id :uuid?, :vision :string?, :hero-strapline :string?, :hero-flows [:uuid], :contact :uuid?, :hero-stats [:uuid]}, :id :cap/action/business-upsert, :audit {:records [:content/change], :fields [:business/id :business/name]}, :outputs {:business #:business{:id :uuid}}, :version "v1"}} {:id "action/action/comparison-row-delete", :kind :action, :name "Comparison Row Delete", :registry :actions, :registry-id :cap/action/comparison-row-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Delete a comparison row by id.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/comparison-row], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:comparison.row/id]}, :title "Comparison Row Delete", :side-effects {:http/endpoints ["/api/content/comparison-rows/:id"], :audit [:content/change]}, :inputs #:comparison.row{:id :uuid}, :id :cap/action/comparison-row-delete, :audit {:records [:content/change], :fields [:comparison.row/id]}, :outputs {:status :deleted}, :version "v1"}} {:id "action/action/comparison-row-upsert", :kind :action, :name "Comparison Row Upsert", :registry :actions, :registry-id :cap/action/comparison-row-upsert, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Create/update comparison rows for license matrices.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/comparison-row], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:comparison.row/id :comparison.row/criterion]}, :title "Comparison Row Upsert", :side-effects {:http/endpoints ["/api/content/comparison-rows" "/api/content/comparison-rows/:id"], :audit [:content/change]}, :inputs #:comparison.row{:id :uuid?, :criterion :string, :order :long?, :entrepreneur :string?, :general :string?, :gcc :string?}, :id :cap/action/comparison-row-upsert, :audit {:records [:content/change], :fields [:comparison.row/id :comparison.row/criterion]}, :outputs {:comparison.row #:comparison.row{:id :uuid}}, :version "v1"}} {:id "action/action/contact-upsert", :kind :action, :name "Contact Upsert", :registry :actions, :registry-id :cap/action/contact-upsert, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Create/update contact entities (email, phone, CTA labels/URLs) for public site and control panel.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/contact], :views [:cap/view/control-panel :cap/view/site-contact :cap/view/site-home :cap/view/site-services :cap/view/site-about]}, :idempotency {:strategy :dedupe-on, :keys [:contact/id :contact/email]}, :title "Contact Upsert", :side-effects #:http{:endpoints ["/api/content/contacts" "/api/content/contacts/:id"]}, :inputs #:contact{:id :uuid?, :email :string, :phone :string, :primary-cta-label :string?, :primary-cta-url :string?, :secondary-cta-label :string?, :secondary-cta-url :string?}, :id :cap/action/contact-upsert, :audit {:records [:content/change], :fields [:contact/id :contact/email]}, :outputs {:contact #:contact{:id :uuid}}, :version "v1"}} {:id "action/action/content-blocks", :kind :action, :name "Content Blocks CRUD", :registry :actions, :registry-id :cap/action/content-blocks, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/content-block :cap/schema/content-tag], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:content.block/id]}, :title "Content Blocks CRUD", :side-effects [], :inputs #:content.block{:tag :uuid-set?, :body :string?, :page :uuid?, :title :string?, :slug :string?, :visible? :boolean?, :order :long?, :type :keyword?, :id :uuid?, :media-ref :string?}, :id :cap/action/content-blocks, :audit {:records [:content/change], :fields [:content.block/id :content.block/type]}, :outputs {:content.block #:content.block{:id :uuid, :type :keyword, :slug :string}}, :version "v1"}} {:id "action/action/content-pages", :kind :action, :name "Content Pages CRUD", :registry :actions, :registry-id :cap/action/content-pages, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/content-page :cap/schema/content-block :cap/schema/content-tag], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:content.page/id]}, :title "Content Pages CRUD", :side-effects [], :inputs #:content.page{:id :uuid?, :title :string?, :path :string?, :summary :string?, :navigation-order :long?, :blocks :uuid-set?, :visible? :boolean?, :tag :uuid-set?}, :id :cap/action/content-pages, :audit {:records [:content/change], :fields [:content.page/id :content.page/path]}, :outputs {:content.page #:content.page{:id :uuid, :path :string}}, :version "v1"}} {:id "action/action/content-tags", :kind :action, :name "Content Tags CRUD", :registry :actions, :registry-id :cap/action/content-tags, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/content-tag], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:content.tag/id :content.tag/name]}, :title "Content Tags CRUD", :side-effects [], :inputs #:content.tag{:id :uuid?, :name :string?, :slug :string?, :description :string?}, :id :cap/action/content-tags, :audit {:records [:content/change], :fields [:content.tag/id :content.tag/name]}, :outputs {:content.tag #:content.tag{:id :uuid, :name :string}}, :version "v1"}} {:id "action/action/content-v2", :kind :action, :name "Content V2 Read", :registry :actions, :registry-id :cap/action/content-v2, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "List Saudi license site content entities for control panel/public site rendering.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/license :cap/schema/comparison-row :cap/schema/journey-phase :cap/schema/activation-step :cap/schema/persona :cap/schema/support-responsibility :cap/schema/hero-stat :cap/schema/hero-flow :cap/schema/faq :cap/schema/value :cap/schema/team-member :cap/schema/business :cap/schema/contact], :views [:cap/view/control-panel]}, :idempotency {:strategy :pure}, :title "Content V2 Read", :side-effects #:http{:endpoints ["/api/content/v2"]}, :inputs {}, :id :cap/action/content-v2, :audit {:records [:content/read], :fields []}, :outputs #:content{:v2 {:activation-steps :vector, :contacts :vector, :personas :vector, :journey-phases :vector, :licenses :vector, :businesses :vector, :faqs :vector, :values :vector, :comparison-rows :vector, :team-members :vector, :hero-flows :vector, :hero-stats :vector, :support-entries :vector}}, :version "v1"}} {:id "action/action/file-delete", :kind :action, :name "Delete File", :registry :actions, :registry-id :cap/action/file-delete, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/local-file-store}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [:cap/schema/file], :views [:cap/view/file-library]}, :idempotency {:strategy :dedupe-on, :keys [:file/id]}, :title "Delete File", :side-effects ["Delete file from disk" "Remove metadata from Datomic"], :inputs #:file{:id :uuid}, :id :cap/action/file-delete, :audit {:records [:file/change], :fields [:file/id]}, :outputs #:file{:id :uuid}, :version "v1"}} {:id "action/action/file-read", :kind :action, :name "Read File", :registry :actions, :registry-id :cap/action/file-read, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/local-file-store}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [:cap/schema/file], :views [:cap/view/file-library]}, :idempotency {:strategy :pure}, :title "Read File", :side-effects ["Read file metadata"], :inputs #:file{:id :uuid}, :id :cap/action/file-read, :audit {:records [:file/read], :fields [:file/id]}, :outputs #:file{:id :uuid}, :version "v1"}} {:id "action/action/file-upload", :kind :action, :name "Upload File", :registry :actions, :registry-id :cap/action/file-upload, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/local-file-store}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [:cap/schema/file :cap/schema/user], :views [:cap/view/file-library]}, :idempotency {:strategy :none}, :title "Upload File", :side-effects ["Store file on local disk" "Persist file metadata in Datomic"], :inputs #:file{:upload :binary, :filename :string?, :mime :string?, :content-base64 :string?, :slug :string?}, :id :cap/action/file-upload, :audit {:records [:file/change], :fields [:file/id :file/slug :file/type]}, :outputs #:file{:id :uuid, :slug :string, :type :keyword}, :version "v1"}} {:id "action/action/github-pulls", :kind :action, :name "GitHub Pull Requests", :registry :actions, :registry-id :cap/action/github-pulls, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/github}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/pr-overview]}, :idempotency {:strategy :pure}, :title "GitHub Pull Requests", :side-effects ["Fetch PR data from GitHub API"], :inputs #:pr{:state :string?}, :id :cap/action/github-pulls, :audit {:records [:github/pulls], :fields [:pr/state]}, :outputs {:pulls :list}, :version "v1"}} {:id "action/action/journey-phase-delete", :kind :action, :name "Journey Phase Delete", :registry :actions, :registry-id :cap/action/journey-phase-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Delete a journey phase.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/journey-phase], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:journey.phase/id]}, :title "Journey Phase Delete", :side-effects #:http{:endpoints ["/api/content/journey-phases/:id"]}, :inputs #:journey.phase{:id :uuid}, :id :cap/action/journey-phase-delete, :audit {:records [:content/change], :fields [:journey.phase/id]}, :outputs {:status :deleted}, :version "v1"}} {:id "action/action/journey-phase-upsert", :kind :action, :name "Journey Phase Upsert", :registry :actions, :registry-id :cap/action/journey-phase-upsert, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Create/update journey phases.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/journey-phase], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:journey.phase/id]}, :title "Journey Phase Upsert", :side-effects #:http{:endpoints ["/api/content/journey-phases" "/api/content/journey-phases/:id"]}, :inputs #:journey.phase{:id :uuid?, :title :string, :kind :keyword, :order :long?, :bullets :string-seq?}, :id :cap/action/journey-phase-upsert, :audit {:records [:content/change], :fields [:journey.phase/id :journey.phase/title]}, :outputs {:journey.phase #:journey.phase{:id :uuid}}, :version "v1"}} {:id "action/action/license-delete", :kind :action, :name "License Delete", :registry :actions, :registry-id :cap/action/license-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Delete a license entity by id.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/license], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:license/id]}, :title "License Delete", :side-effects {:http/endpoints ["/api/content/licenses/:id"], :audit [:content/change]}, :inputs #:license{:id :uuid}, :id :cap/action/license-delete, :audit {:records [:content/change], :fields [:license/id]}, :outputs {:status :deleted}, :version "v1"}} {:id "action/action/license-upsert", :kind :action, :name "License Upsert", :registry :actions, :registry-id :cap/action/license-upsert, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Create/update license content entities.", :contracts {:fixtures [:fixtures/content]}, :tooling [], :related {:schema [:cap/schema/license], :views [:cap/view/control-panel]}, :idempotency {:strategy :dedupe-on, :keys [:license/id :license/slug]}, :title "License Upsert", :side-effects {:http/endpoints ["/api/content/licenses" "/api/content/licenses/:id"], :audit [:content/change]}, :inputs #:license{:activities :string-seq?, :visible? :boolean?, :slug :string, :type :keyword, :pricing-lines :string-seq?, :label :string, :id :uuid?, :processing-time :string?, :ownership :string?, :order :long?, :renewal-cost :string?, :who-activities :string-seq?, :document-checklist :string-seq?, :who :string-seq?}, :id :cap/action/license-upsert, :audit {:records [:content/change], :fields [:license/id :license/type :license/slug]}, :outputs {:license #:license{:id :uuid, :slug :string}}, :version "v1"}} {:id "action/action/parcel-detail", :kind :action, :name "Parcel detail", :registry :actions, :registry-id :cap/action/parcel-detail, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/land-registry-sample]}, :tooling [], :related {:schema [:cap/schema/parcel :cap/schema/ownership :cap/schema/person], :views [:cap/view/land-registry]}, :idempotency {:strategy :pure}, :title "Parcel detail", :side-effects [], :inputs #:parcel{:id :uuid}, :id :cap/action/parcel-detail, :audit {:records [], :fields []}, :outputs #:parcel{:id :uuid}, :version "v1"}} {:id "action/action/parcel-import", :kind :action, :name "Import land registry CSV", :registry :actions, :registry-id :cap/action/parcel-import, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/land-registry-sample]}, :tooling [:cap/tooling/import-check], :related {:schema [:cap/schema/person :cap/schema/parcel :cap/schema/ownership], :views [:cap/view/land-registry]}, :idempotency {:strategy :deterministic-ids, :keys [:file/path]}, :title "Import land registry CSV", :side-effects ["Transact person/parcel/ownership entities into Datomic"], :inputs {:file/path :string, :mode :keyword, :dry-run? :boolean?}, :id :cap/action/parcel-import, :audit {:records [:import/run], :fields [:file/path]}, :outputs #:import{:persons :long, :parcels :long, :ownerships :long}, :version "v1"}} {:id "action/action/parcel-list", :kind :action, :name "List parcels", :registry :actions, :registry-id :cap/action/parcel-list, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/land-registry-sample]}, :tooling [], :related {:schema [:cap/schema/parcel :cap/schema/ownership :cap/schema/person], :views [:cap/view/land-registry]}, :idempotency {:strategy :pure}, :title "List parcels", :side-effects [], :inputs {:cadastral-id :string?, :parcel-number :string?, :min-area :string?, :max-area :string?, :completeness :keyword?, :sort :keyword?, :limit :long?, :offset :long?}, :id :cap/action/parcel-list, :audit {:records [], :fields []}, :outputs {:parcels :vector, :pagination {:total :long, :limit :long, :offset :long}}, :version "v1"}} {:id "action/action/parcel-stats", :kind :action, :name "Parcel/person summary stats", :registry :actions, :registry-id :cap/action/parcel-stats, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/land-registry-sample]}, :tooling [], :related {:schema [:cap/schema/parcel :cap/schema/person :cap/schema/ownership], :views [:cap/view/land-registry]}, :idempotency {:strategy :pure}, :title "Parcel/person summary stats", :side-effects [], :inputs {}, :id :cap/action/parcel-stats, :audit {:records [], :fields []}, :outputs {:persons :long, :parcels :long, :total-area-m2 :double}, :version "v1"}} {:id "action/action/person-detail", :kind :action, :name "Person detail (land registry)", :registry :actions, :registry-id :cap/action/person-detail, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/land-registry-sample]}, :tooling [], :related {:schema [:cap/schema/person :cap/schema/ownership :cap/schema/parcel], :views [:cap/view/land-registry]}, :idempotency {:strategy :pure}, :title "Person detail (land registry)", :side-effects [], :inputs #:person{:id :uuid}, :id :cap/action/person-detail, :audit {:records [], :fields []}, :outputs #:person{:id :uuid}, :version "v1"}} {:id "action/action/person-list", :kind :action, :name "List people (land registry)", :registry :actions, :registry-id :cap/action/person-list, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/land-registry-sample]}, :tooling [], :related {:schema [:cap/schema/person :cap/schema/ownership], :views [:cap/view/land-registry]}, :idempotency {:strategy :pure}, :title "List people (land registry)", :side-effects [], :inputs {:q :string?, :sort :keyword?, :limit :long?, :offset :long?}, :id :cap/action/person-list, :audit {:records [], :fields []}, :outputs {:people :vector, :pagination {:total :long, :limit :long, :offset :long}}, :version "v1"}} {:id "action/action/system-service-restart", :kind :action, :name "Restart System Service", :registry :actions, :registry-id :cap/action/system-service-restart, :source "registries/actions.edn", :data {:adapter {:integration :local/system}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/system-services]}, :idempotency {:strategy :dedupe-on, :keys [:service/id]}, :title "Restart System Service", :side-effects ["Restart service"], :inputs #:service{:id :string}, :id :cap/action/system-service-restart, :audit {:records [:system/restart], :fields [:service/id]}, :outputs {:status :string}, :version "v1"}} {:id "action/action/system-services", :kind :action, :name "List System Services", :registry :actions, :registry-id :cap/action/system-services, :source "registries/actions.edn", :data {:adapter {:integration :local/system}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/system-services]}, :idempotency {:strategy :pure}, :title "List System Services", :side-effects [], :inputs {}, :id :cap/action/system-services, :audit {:records [:system/read], :fields []}, :outputs {:services :vector}, :version "v1"}} {:id "action/action/tag-create", :kind :action, :name "Create Tag", :registry :actions, :registry-id :cap/action/tag-create, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tags]}, :related {:schema [:cap/schema/tag], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:tag/name]}, :title "Create Tag", :side-effects ["Persist tag"], :inputs #:tag{:name :string}, :id :cap/action/tag-create, :audit {:records [:tag/change], :fields [:tag/id :tag/name]}, :outputs #:tag{:id :uuid}, :version "v1"}} {:id "action/action/tag-delete", :kind :action, :name "Delete Tag", :registry :actions, :registry-id :cap/action/tag-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tags]}, :related {:schema [:cap/schema/tag], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:tag/id]}, :title "Delete Tag", :side-effects ["Remove tag from tasks and delete entity"], :inputs #:tag{:id :uuid}, :id :cap/action/tag-delete, :audit {:records [:tag/change], :fields [:tag/id]}, :outputs #:tag{:id :uuid}, :version "v1"}} {:id "action/action/tag-update", :kind :action, :name "Rename Tag", :registry :actions, :registry-id :cap/action/tag-update, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tags]}, :related {:schema [:cap/schema/tag], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:tag/id]}, :title "Rename Tag", :side-effects ["Persist tag name change"], :inputs #:tag{:id :uuid, :name :string}, :id :cap/action/tag-update, :audit {:records [:tag/change], :fields [:tag/id :tag/name]}, :outputs #:tag{:id :uuid, :name :string}, :version "v1"}} {:id "action/action/task-add-note", :kind :action, :name "Add Task Note", :registry :actions, :registry-id :cap/action/task-add-note, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks :fixtures/users]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task :cap/schema/note], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :note/body]}, :title "Add Task Note", :side-effects ["Persist note for task"], :inputs {:task/id :uuid, :note/body :string, :note/type :keyword?}, :id :cap/action/task-add-note, :audit {:records [:task/change], :fields [:task/id]}, :outputs {:task/id :uuid, :note/id :uuid}, :version "v1"}} {:id "action/action/task-archive", :kind :action, :name "Archive Task", :registry :actions, :registry-id :cap/action/task-archive, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :task/archived?]}, :title "Archive Task", :side-effects ["Persist archived flag"], :inputs #:task{:id :uuid, :archived? :boolean}, :id :cap/action/task-archive, :audit {:records [:task/change], :fields [:task/id :task/archived?]}, :outputs #:task{:id :uuid, :archived? :boolean}, :version "v1"}} {:id "action/action/task-assign", :kind :action, :name "Assign Task", :registry :actions, :registry-id :cap/action/task-assign, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks :fixtures/users]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task :cap/schema/user], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :task/assignee]}, :title "Assign Task", :side-effects ["Persist assignment"], :inputs #:task{:id :uuid, :assignee :uuid}, :id :cap/action/task-assign, :audit {:records [:task/change], :fields [:task/id :task/assignee]}, :outputs #:task{:id :uuid, :assignee :uuid}, :version "v1"}} {:id "action/action/task-create", :kind :action, :name "Create Task", :registry :actions, :registry-id :cap/action/task-create, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags [:task/extended?]}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/title :task/assignee]}, :title "Create Task", :side-effects ["Persist task" "Create pending-reason note when status = :pending"], :inputs {:task/title :string, :task/description :string, :task/status :keyword, :task/assignee :uuid, :task/due-date :instant?, :task/priority :keyword, :task/tags :uuid-set, :note/body :string?}, :id :cap/action/task-create, :audit {:records [:task/change], :fields [:task/id :task/status :task/assignee]}, :outputs #:task{:id :uuid}, :version "v1"}} {:id "action/action/task-delete", :kind :action, :name "Delete Task", :registry :actions, :registry-id :cap/action/task-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id]}, :title "Delete Task", :side-effects ["Delete task entity and detach tag refs"], :inputs #:task{:id :uuid}, :id :cap/action/task-delete, :audit {:records [:task/change], :fields [:task/id]}, :outputs #:task{:id :uuid}, :version "v1"}} {:id "action/action/task-delete-note", :kind :action, :name "Delete Task Note", :registry :actions, :registry-id :cap/action/task-delete-note, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks :fixtures/users]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task :cap/schema/note], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id]}, :title "Delete Task Note", :side-effects ["Delete latest comment note for task"], :inputs #:task{:id :uuid}, :id :cap/action/task-delete-note, :audit {:records [:task/change], :fields [:task/id]}, :outputs {:task/id :uuid, :note/id :uuid}, :version "v1"}} {:id "action/action/task-edit-note", :kind :action, :name "Edit Task Note", :registry :actions, :registry-id :cap/action/task-edit-note, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks :fixtures/users]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task :cap/schema/note], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :note/body]}, :title "Edit Task Note", :side-effects ["Update latest comment note for task"], :inputs {:task/id :uuid, :note/body :string}, :id :cap/action/task-edit-note, :audit {:records [:task/change], :fields [:task/id]}, :outputs {:task/id :uuid, :note/id :uuid}, :version "v1"}} {:id "action/action/task-read", :kind :action, :name "Read Task", :registry :actions, :registry-id :cap/action/task-read, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :pure}, :title "Read Task", :side-effects ["Read task entity"], :inputs #:task{:id :uuid}, :id :cap/action/task-read, :audit {:records [:task/read], :fields [:task/id]}, :outputs #:task{:id :uuid}, :version "v1"}} {:id "action/action/task-set-due", :kind :action, :name "Set Due Date", :registry :actions, :registry-id :cap/action/task-set-due, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :task/due-date]}, :title "Set Due Date", :side-effects ["Persist due date"], :inputs #:task{:id :uuid, :due-date :instant?}, :id :cap/action/task-set-due, :audit {:records [:task/change], :fields [:task/id :task/due-date]}, :outputs #:task{:id :uuid, :due-date :instant?}, :version "v1"}} {:id "action/action/task-set-status", :kind :action, :name "Set Task Status", :registry :actions, :registry-id :cap/action/task-set-status, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :task/status]}, :title "Set Task Status", :side-effects ["Persist status change" "Create pending-reason note when status = :pending"], :inputs {:task/id :uuid, :task/status :keyword, :note/body :string?}, :id :cap/action/task-set-status, :audit {:records [:task/change], :fields [:task/id :task/status]}, :outputs #:task{:id :uuid, :status :keyword}, :version "v1"}} {:id "action/action/task-set-tags", :kind :action, :name "Set Task Tags", :registry :actions, :registry-id :cap/action/task-set-tags, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags [:task/extended?]}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id :task/tags]}, :title "Set Task Tags", :side-effects ["Persist tags"], :inputs #:task{:id :uuid, :tags :uuid-set}, :id :cap/action/task-set-tags, :audit {:records [:task/change], :fields [:task/id :task/tags]}, :outputs #:task{:id :uuid, :tags :uuid-set}, :version "v1"}} {:id "action/action/task-update", :kind :action, :name "Update Task", :registry :actions, :registry-id :cap/action/task-update, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags [:task/extended?]}, :contracts {:fixtures [:fixtures/tasks]}, :tooling [:cap/tooling/action-contract], :related {:schema [:cap/schema/task], :views [:cap/view/tasks]}, :idempotency {:strategy :dedupe-on, :keys [:task/id]}, :title "Update Task", :side-effects ["Persist changes"], :inputs #:task{:id :uuid, :title :string?, :description :string?, :priority :keyword?, :tags :uuid-set?}, :id :cap/action/task-update, :audit {:records [:task/change], :fields [:task/id]}, :outputs #:task{:id :uuid}, :version "v1"}} {:id "action/action/telegram-handle-update", :kind :action, :name "Telegram Handle Update", :registry :actions, :registry-id :cap/action/telegram-handle-update, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/telegram-bot}, :compatibility {:backward true, :forward true, :flags [:telegram/webhook-enabled? :telegram/commands-enabled?]}, :contracts {:fixtures []}, :tooling [], :related {:schema [:cap/schema/user], :views []}, :idempotency {:strategy :dedupe-on, :keys [:telegram/update-id]}, :title "Telegram Handle Update", :side-effects ["Dispatch Telegram commands and emit replies" "Persist chat-id mapping via link token when applicable"], :inputs #:telegram{:update-id :long, :chat-id :string, :message-text :string?, :command :keyword?}, :id :cap/action/telegram-handle-update, :audit {:records [:telegram/update], :fields [:telegram/update-id :telegram/chat-id :telegram/command]}, :outputs {:status :handled, :telegram/command :keyword?}, :version "v1"}} {:id "action/action/telegram-send-message", :kind :action, :name "Telegram Send Message", :registry :actions, :registry-id :cap/action/telegram-send-message, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/telegram-bot}, :compatibility {:backward true, :forward true, :flags [:telegram/notifications-enabled?]}, :contracts {:fixtures []}, :tooling [], :related {:schema [:cap/schema/user], :views []}, :idempotency {:strategy :dedupe-on, :keys [:telegram/chat-id :telegram/message-key]}, :title "Telegram Send Message", :side-effects ["Send Telegram message via Bot API"], :inputs #:telegram{:chat-id :string, :text :string, :parse-mode :keyword?, :message-key :string}, :id :cap/action/telegram-send-message, :audit {:records [:telegram/send], :fields [:telegram/chat-id :telegram/message-key]}, :outputs #:telegram{:message-id :string}, :version "v1"}} {:id "action/action/telegram-set-webhook", :kind :action, :name "Telegram Set Webhook", :registry :actions, :registry-id :cap/action/telegram-set-webhook, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/telegram-bot}, :compatibility {:backward true, :forward true, :flags [:telegram/webhook-enabled?]}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views []}, :idempotency {:strategy :dedupe-on, :keys [:telegram/webhook-url :telegram/secret-token]}, :title "Telegram Set Webhook", :side-effects ["Register webhook URL and secret with Telegram"], :inputs #:telegram{:webhook-url :string, :secret-token :string}, :id :cap/action/telegram-set-webhook, :audit {:records [:telegram/webhook-set], :fields [:telegram/webhook-url]}, :outputs {:status :ok}, :version "v1"}} {:id "action/action/terminal-session-complete", :kind :action, :name "Terminal Session Complete", :registry :actions, :registry-id :cap/action/terminal-session-complete, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Session Complete", :side-effects ["Stop tmux session" "Delete repo/db/chat transcript" "Retain logs"], :inputs #:terminal.session{:id :string}, :id :cap/action/terminal-session-complete, :audit {:records [:terminal/session-complete], :fields [:terminal.session/id]}, :outputs {:status :string}, :version "v1"}} {:id "action/action/terminal-session-create", :kind :action, :name "Terminal Session Create", :registry :actions, :registry-id :cap/action/terminal-session-create, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Session Create", :side-effects ["Clone repo" "Allocate ports" "Start tmux + codex session"], :inputs #:terminal.session{:name :string?}, :id :cap/action/terminal-session-create, :audit {:records [:terminal/session-create], :fields [:terminal.session/name]}, :outputs #:terminal.session{:id :string}, :version "v1"}} {:id "action/action/terminal-session-input", :kind :action, :name "Terminal Session Input", :registry :actions, :registry-id :cap/action/terminal-session-input, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Session Input", :side-effects ["Send input to tmux session"], :inputs {:terminal.session/id :string, :terminal.input/text :string}, :id :cap/action/terminal-session-input, :audit {:records [:terminal/session-input], :fields [:terminal.session/id]}, :outputs {:status :string}, :version "v1"}} {:id "action/action/terminal-session-output", :kind :action, :name "Terminal Session Output", :registry :actions, :registry-id :cap/action/terminal-session-output, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Session Output", :side-effects ["Read terminal session output buffer"], :inputs {:terminal.session/id :string, :terminal.output/cursor :long?}, :id :cap/action/terminal-session-output, :audit {:records [:terminal/session-output], :fields [:terminal.session/id]}, :outputs #:terminal.output{:chunk :string, :cursor :long}, :version "v1"}} {:id "action/action/terminal-session-restart-app", :kind :action, :name "Terminal Session Restart App", :registry :actions, :registry-id :cap/action/terminal-session-restart-app, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Session Restart App", :side-effects ["Restart terminal app window"], :inputs #:terminal.session{:id :string}, :id :cap/action/terminal-session-restart-app, :audit {:records [:terminal/session-restart-app], :fields [:terminal.session/id]}, :outputs {:status :string}, :version "v1"}} {:id "action/action/terminal-session-resume", :kind :action, :name "Terminal Session Resume", :registry :actions, :registry-id :cap/action/terminal-session-resume, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Session Resume", :side-effects ["Start tmux session" "Reattach output pipe" "Restart app/site windows if configured"], :inputs #:terminal.session{:id :string}, :id :cap/action/terminal-session-resume, :audit {:records [:terminal/session-resume], :fields [:terminal.session/id]}, :outputs {:status :string}, :version "v1"}} {:id "action/action/terminal-sessions", :kind :action, :name "Terminal Sessions", :registry :actions, :registry-id :cap/action/terminal-sessions, :source "registries/actions.edn", :data {:adapter {:integration :cap/integration/terminal-service}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures []}, :tooling [], :related {:schema [], :views [:cap/view/terminal]}, :idempotency {:strategy :none}, :title "Terminal Sessions", :side-effects ["Read terminal session store"], :inputs {}, :id :cap/action/terminal-sessions, :audit {:records [:terminal/sessions]}, :outputs {:sessions :list}, :version "v1"}} {:id "action/action/user-create", :kind :action, :name "Create User", :registry :actions, :registry-id :cap/action/user-create, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/users]}, :tooling [], :related {:schema [:cap/schema/user], :views [:cap/view/user-management]}, :idempotency {:strategy :dedupe-on, :keys [:user/username]}, :title "Create User", :side-effects ["Persist user"], :inputs #:user{:username :string, :password :string, :name :string?, :roles [:set :keyword]}, :id :cap/action/user-create, :audit {:records [:user/change], :fields [:user/id :user/username]}, :outputs #:user{:id :uuid}, :version "v1"}} {:id "action/action/user-delete", :kind :action, :name "Delete User", :registry :actions, :registry-id :cap/action/user-delete, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/users]}, :tooling [], :related {:schema [:cap/schema/user], :views [:cap/view/user-management]}, :idempotency {:strategy :dedupe-on, :keys [:user/id]}, :title "Delete User", :side-effects ["Remove user"], :inputs #:user{:id :uuid}, :id :cap/action/user-delete, :audit {:records [:user/change], :fields [:user/id :user/username]}, :outputs #:user{:id :uuid}, :version "v1"}} {:id "action/action/user-list", :kind :action, :name "List Users", :registry :actions, :registry-id :cap/action/user-list, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/users]}, :tooling [], :related {:schema [:cap/schema/user], :views [:cap/view/user-management]}, :idempotency {:strategy :pure}, :title "List Users", :side-effects [], :inputs {}, :id :cap/action/user-list, :audit {:records [:user/read], :fields []}, :outputs {:users :vector}, :version "v1"}} {:id "action/action/user-update", :kind :action, :name "Update User", :registry :actions, :registry-id :cap/action/user-update, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/users]}, :tooling [], :related {:schema [:cap/schema/user], :views [:cap/view/user-management]}, :idempotency {:strategy :dedupe-on, :keys [:user/id]}, :title "Update User", :side-effects ["Persist user updates"], :inputs #:user{:id :uuid, :username :string?, :password :string?, :name :string?, :roles [:set :keyword]}, :id :cap/action/user-update, :audit {:records [:user/change], :fields [:user/id :user/username]}, :outputs #:user{:id :uuid}, :version "v1"}} {:id "action/action/workspace-promote", :kind :action, :name "Workspace Promote", :registry :actions, :registry-id :cap/action/workspace-promote, :source "registries/actions.edn", :data {:adapter {:integration :local/db}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:fixtures [:fixtures/tasks :fixtures/tags]}, :tooling [], :related {:schema [:cap/schema/task :cap/schema/tag :cap/schema/file :cap/schema/note]}, :idempotency {:strategy :none}, :title "Workspace Promote", :side-effects ["Move workspace-scoped entities to target workspace"], :inputs #:workspace{:id :string?, :target :string?}, :id :cap/action/workspace-promote, :audit {:records [:workspace/promote], :fields [:workspace/id :workspace/target]}, :outputs {:promotion :map}, :version "v1"}} {:id "automation/automation/telegram-onboarding-task", :kind :automation, :name "Create onboarding task when Telegram is linked", :registry :automations, :registry-id :cap/automation/telegram-onboarding-task, :source "registries/automations.edn", :data {:id :cap/automation/telegram-onboarding-task, :title "Create onboarding task when Telegram is linked", :version "v1", :enabled true, :triggers [#:event{:type :telegram/linked}], :handler :cap/automation.handler/telegram-onboarding-task, :notes "Demonstrates external event -> internal action invocation. Must be idempotent via :task/automation-key."}} {:id "env/ALLOW_FIXTURE_SEED", :kind :config-env, :name "ALLOW_FIXTURE_SEED", :source "src/darelwasl/config.clj"} {:id "env/APP_HOST", :kind :config-env, :name "APP_HOST", :source "src/darelwasl/config.clj"} {:id "env/APP_PORT", :kind :config-env, :name "APP_PORT", :source "src/darelwasl/config.clj"} {:id "env/BETTING_CLOSE_OFFSET_MINUTES", :kind :config-env, :name "BETTING_CLOSE_OFFSET_MINUTES", :source "src/darelwasl/config.clj"} {:id "env/BETTING_EVENT_HORIZON_HOURS", :kind :config-env, :name "BETTING_EVENT_HORIZON_HOURS", :source "src/darelwasl/config.clj"} {:id "env/BETTING_EXECUTION_BOOK", :kind :config-env, :name "BETTING_EXECUTION_BOOK", :source "src/darelwasl/config.clj"} {:id "env/BETTING_FALLBACK_BOOKS", :kind :config-env, :name "BETTING_FALLBACK_BOOKS", :source "src/darelwasl/config.clj"} {:id "env/BETTING_REFERENCE_BOOKS", :kind :config-env, :name "BETTING_REFERENCE_BOOKS", :source "src/darelwasl/config.clj"} {:id "env/BETTING_SCHEDULER_ENABLED", :kind :config-env, :name "BETTING_SCHEDULER_ENABLED", :source "src/darelwasl/config.clj"} {:id "env/BETTING_SCHEDULER_POLL_MS", :kind :config-env, :name "BETTING_SCHEDULER_POLL_MS", :source "src/darelwasl/config.clj"} {:id "env/DATOMIC_DB_NAME", :kind :config-env, :name "DATOMIC_DB_NAME", :source "src/darelwasl/config.clj"} {:id "env/DATOMIC_STORAGE_DIR", :kind :config-env, :name "DATOMIC_STORAGE_DIR", :source "src/darelwasl/config.clj"} {:id "env/DATOMIC_SYSTEM", :kind :config-env, :name "DATOMIC_SYSTEM", :source "src/darelwasl/config.clj"} {:id "env/FILES_STORAGE_DIR", :kind :config-env, :name "FILES_STORAGE_DIR", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_API_URL", :kind :config-env, :name "GITHUB_API_URL", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_COMMITS_PER_PR", :kind :config-env, :name "GITHUB_COMMITS_PER_PR", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_PRS_PER_PAGE", :kind :config-env, :name "GITHUB_PRS_PER_PAGE", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_REPO_NAME", :kind :config-env, :name "GITHUB_REPO_NAME", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_REPO_OWNER", :kind :config-env, :name "GITHUB_REPO_OWNER", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_TIMEOUT_MS", :kind :config-env, :name "GITHUB_TIMEOUT_MS", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_TOKEN", :kind :config-env, :name "GITHUB_TOKEN", :source "src/darelwasl/config.clj"} {:id "env/GITHUB_TOKEN_FILE", :kind :config-env, :name "GITHUB_TOKEN_FILE", :source "src/darelwasl/config.clj"} {:id "env/OUTBOX_WORKER_ENABLED", :kind :config-env, :name "OUTBOX_WORKER_ENABLED", :source "src/darelwasl/config.clj"} {:id "env/OUTBOX_WORKER_POLL_MS", :kind :config-env, :name "OUTBOX_WORKER_POLL_MS", :source "src/darelwasl/config.clj"} {:id "env/REZULTATI_BASE_URL", :kind :config-env, :name "REZULTATI_BASE_URL", :source "src/darelwasl/config.clj"} {:id "env/REZULTATI_CACHE_TTL_MS", :kind :config-env, :name "REZULTATI_CACHE_TTL_MS", :source "src/darelwasl/config.clj"} {:id "env/REZULTATI_TIMEOUT_MS", :kind :config-env, :name "REZULTATI_TIMEOUT_MS", :source "src/darelwasl/config.clj"} {:id "env/SITE_HOST", :kind :config-env, :name "SITE_HOST", :source "src/darelwasl/config.clj"} {:id "env/SITE_PORT", :kind :config-env, :name "SITE_PORT", :source "src/darelwasl/config.clj"} {:id "env/SUPERSPORT_BASE_URL", :kind :config-env, :name "SUPERSPORT_BASE_URL", :source "src/darelwasl/config.clj"} {:id "env/SUPERSPORT_TIMEOUT_MS", :kind :config-env, :name "SUPERSPORT_TIMEOUT_MS", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_AUTO_BIND_USERNAME", :kind :config-env, :name "TELEGRAM_AUTO_BIND_USERNAME", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_AUTO_SET_WEBHOOK", :kind :config-env, :name "TELEGRAM_AUTO_SET_WEBHOOK", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_BOT_TOKEN", :kind :config-env, :name "TELEGRAM_BOT_TOKEN", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_COMMANDS_ENABLED", :kind :config-env, :name "TELEGRAM_COMMANDS_ENABLED", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_HTTP_TIMEOUT_MS", :kind :config-env, :name "TELEGRAM_HTTP_TIMEOUT_MS", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_LINK_TOKEN_TTL_MS", :kind :config-env, :name "TELEGRAM_LINK_TOKEN_TTL_MS", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_NOTIFICATIONS_ENABLED", :kind :config-env, :name "TELEGRAM_NOTIFICATIONS_ENABLED", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_POLLING_ENABLED", :kind :config-env, :name "TELEGRAM_POLLING_ENABLED", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_POLLING_INTERVAL_MS", :kind :config-env, :name "TELEGRAM_POLLING_INTERVAL_MS", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_WEBHOOK_BASE_URL", :kind :config-env, :name "TELEGRAM_WEBHOOK_BASE_URL", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_WEBHOOK_ENABLED", :kind :config-env, :name "TELEGRAM_WEBHOOK_ENABLED", :source "src/darelwasl/config.clj"} {:id "env/TELEGRAM_WEBHOOK_SECRET", :kind :config-env, :name "TELEGRAM_WEBHOOK_SECRET", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_ADMIN_TOKEN", :kind :config-env, :name "TERMINAL_ADMIN_TOKEN", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_API_URL", :kind :config-env, :name "TERMINAL_API_URL", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_AUTO_START_APP", :kind :config-env, :name "TERMINAL_AUTO_START_APP", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_AUTO_START_SITE", :kind :config-env, :name "TERMINAL_AUTO_START_SITE", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_BACKEND_FILE", :kind :config-env, :name "TERMINAL_BACKEND_FILE", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_CANARY_API_URL", :kind :config-env, :name "TERMINAL_CANARY_API_URL", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_CODEX_CMD", :kind :config-env, :name "TERMINAL_CODEX_CMD", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_DATA_DIR", :kind :config-env, :name "TERMINAL_DATA_DIR", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_GITHUB_TOKEN", :kind :config-env, :name "TERMINAL_GITHUB_TOKEN", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_HOST", :kind :config-env, :name "TERMINAL_HOST", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_LOG_DIR", :kind :config-env, :name "TERMINAL_LOG_DIR", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_MAIN_APP_URL", :kind :config-env, :name "TERMINAL_MAIN_APP_URL", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_MAX_OUTPUT_BYTES", :kind :config-env, :name "TERMINAL_MAX_OUTPUT_BYTES", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_POLL_MS", :kind :config-env, :name "TERMINAL_POLL_MS", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_PORT", :kind :config-env, :name "TERMINAL_PORT", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_PORT_RANGE_END", :kind :config-env, :name "TERMINAL_PORT_RANGE_END", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_PORT_RANGE_START", :kind :config-env, :name "TERMINAL_PORT_RANGE_START", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_PUBLIC_BASE_URL", :kind :config-env, :name "TERMINAL_PUBLIC_BASE_URL", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_REPO_URL", :kind :config-env, :name "TERMINAL_REPO_URL", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_TMUX_PREFIX", :kind :config-env, :name "TERMINAL_TMUX_PREFIX", :source "src/darelwasl/config.clj"} {:id "env/TERMINAL_WORK_DIR", :kind :config-env, :name "TERMINAL_WORK_DIR", :source "src/darelwasl/config.clj"} {:id "integration/integration/action-gateway", :kind :integration, :name "Action Gateway (admin)", :registry :integrations, :registry-id :cap/integration/action-gateway, :source "registries/integrations.edn", :data {:adapter {:library "clj-http", :notes "Used by local daemons to invoke actions without a session cookie"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:base-path "/api/system/actions/:id", :headers ["X-Terminal-Admin-Token" "X-Workspace-Id"], :payload {:input :map, :actor :map?}}, :related {:actions [], :schema []}, :failure-modes ["Missing/invalid admin token" "Unknown action id" "Action error response" "Main app unavailable"], :auth {:strategy :admin-token, :vars ["TERMINAL_ADMIN_TOKEN"]}, :title "Action Gateway (admin)", :id :cap/integration/action-gateway, :version "v1", :external-system "Main app admin HTTP endpoint"}} {:id "integration/integration/email", :kind :integration, :name "Email provider", :registry :integrations, :registry-id :cap/integration/email, :source "registries/integrations.edn", :data {:adapter {:library "tbd"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:timeout_ms 3000, :rate_limit "tbd"}, :related {:actions [:cap/action/example-send], :schema []}, :failure-modes ["timeouts" "rate limits" "invalid recipients"], :auth {:strategy :env-vars}, :title "Email provider", :id :cap/integration/email, :version "v1", :external-system "SMTP or API provider"}} {:id "integration/integration/github", :kind :integration, :name "GitHub API", :registry :integrations, :registry-id :cap/integration/github, :source "registries/integrations.edn", :data {:adapter {:library "clj-http", :notes "Reads PR lists and commits; token optional for public repos"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:base-url "GITHUB_API_URL (default https://api.github.com)", :timeout_ms 3000, :endpoints ["/repos/{owner}/{repo}/pulls" "/repos/{owner}/{repo}/pulls/{number}/commits"]}, :related {:actions [:cap/action/github-pulls], :schema []}, :failure-modes ["Missing repo config" "Rate limits" "Invalid token" "Network timeouts/5xx"], :auth {:strategy :env-vars, :vars ["GITHUB_TOKEN" "GITHUB_TOKEN_FILE" "GITHUB_REPO_OWNER" "GITHUB_REPO_NAME"]}, :title "GitHub API", :id :cap/integration/github, :version "v1", :external-system "GitHub REST API"}} {:id "integration/integration/local-file-store", :kind :integration, :name "Local file storage", :registry :integrations, :registry-id :cap/integration/local-file-store, :source "registries/integrations.edn", :data {:adapter {:library "java.io + ring multipart", :notes "Stores uploads on disk and persists metadata in Datomic"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:storage-dir "FILES_STORAGE_DIR (default data/files)", :allowed-types ["image/*" "application/pdf"]}, :related {:actions [:cap/action/file-upload :cap/action/file-delete], :schema [:cap/schema/file]}, :failure-modes ["Missing storage directory" "Filesystem permission errors" "Invalid MIME types"], :auth {:strategy :local-fs, :secrets "none"}, :title "Local file storage", :id :cap/integration/local-file-store, :version "v1", :external-system "Local filesystem storage"}} {:id "integration/integration/local-session", :kind :integration, :name "Local session store", :registry :integrations, :registry-id :cap/integration/local-session, :source "registries/integrations.edn", :data {:adapter {:library "ring.middleware.session", :notes "Used by :cap/action/auth-login to establish sessions"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:store :memory, :cookie-name "ring-session", :cookie-attrs {:http-only true, :same-site :lax, :path "/"}}, :related {:actions [:cap/action/auth-login], :schema [:cap/schema/user]}, :failure-modes ["Server restart clears sessions" "Missing/expired cookie yields 401 on protected routes"], :auth {:strategy :session-cookie, :secrets "none (dev-only; plaintext fixtures)"}, :title "Local session store", :id :cap/integration/local-session, :version "v1", :external-system "Ring session cookie backed by in-memory store"}} {:id "integration/integration/rezultati", :kind :integration, :name "Rezultati (mobile)", :registry :integrations, :registry-id :cap/integration/rezultati, :source "registries/integrations.edn", :data {:adapter {:library "clj-http", :notes "On-demand fetch only; no polling or scheduled refresh; no live calls in CI"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:timeout_ms 3000, :rate_limit "no explicit headers; treat 403/429 as backoff", :endpoints ["/?d={day}&s=5" "/utakmica/{id}/?s=5"]}, :related {:actions [], :schema [:cap/schema/betting-event :cap/schema/betting-quote]}, :failure-modes ["Blocked/geo-restricted access" "Network timeouts/5xx" "HTML changes" "Invalid match ids"], :auth {:strategy :env-vars, :vars ["REZULTATI_BASE_URL" "REZULTATI_TIMEOUT_MS"]}, :title "Rezultati (mobile)", :id :cap/integration/rezultati, :version "v1", :external-system "Rezultati mobile odds pages"}} {:id "integration/integration/telegram-bot", :kind :integration, :name "Telegram Bot", :registry :integrations, :registry-id :cap/integration/telegram-bot, :source "registries/integrations.edn", :data {:adapter {:library "Telegram Bot API (HTTPS)", :notes "Use HTTP client wrapper with stubs; no live Telegram calls in CI"}, :compatibility {:backward true, :forward true, :flags [:telegram/webhook-enabled? :telegram/notifications-enabled?]}, :contracts {:timeout_ms 3000, :rate_limit "429 from Telegram; backoff with jitter", :webhook {:path "/api/telegram/webhook", :secret-header "X-Telegram-Bot-Api-Secret-Token", :enabled-flag "TELEGRAM_WEBHOOK_ENABLED"}, :commands [:start :help :tasks :task :stop]}, :related {:actions [:cap/action/telegram-send-message :cap/action/telegram-set-webhook :cap/action/telegram-handle-update], :schema [:cap/schema/user]}, :failure-modes ["429 rate limits" "Network timeouts/5xx" "Invalid/missing webhook secret" "Invalid/expired chat link token"], :auth {:strategy :env-vars, :vars ["TELEGRAM_BOT_TOKEN" "TELEGRAM_WEBHOOK_SECRET" "TELEGRAM_WEBHOOK_BASE_URL"]}, :title "Telegram Bot", :id :cap/integration/telegram-bot, :version "v1", :external-system "Telegram Bot API"}} {:id "integration/integration/terminal-service", :kind :integration, :name "Codex Terminal Service", :registry :integrations, :registry-id :cap/integration/terminal-service, :source "registries/integrations.edn", :data {:adapter {:library "clj-http", :notes "Main app proxies requests to the terminal service"}, :compatibility {:backward true, :forward true, :flags []}, :contracts {:transport "HTTP JSON", :session-store "EDN file on disk", :runtime "tmux + codex CLI"}, :related {:actions [:cap/action/terminal-sessions :cap/action/terminal-session-create :cap/action/terminal-session-input :cap/action/terminal-session-output :cap/action/terminal-session-resume :cap/action/terminal-session-restart-app :cap/action/terminal-session-complete], :schema []}, :failure-modes ["Terminal service unavailable" "tmux session missing" "Repo clone failures" "Port allocation failure"], :auth {:strategy :local-only, :secrets "none (localhost or private network)"}, :title "Codex Terminal Service", :id :cap/integration/terminal-service, :version "v1", :external-system "Local terminal session daemon (tmux-backed)"}} {:id "ns/darelwasl.actions", :kind :namespace, :name "darelwasl.actions", :source "src/darelwasl/actions.clj"} {:id "ns/darelwasl.app", :kind :namespace, :name "darelwasl.app", :source "src/darelwasl/app.cljs"} {:id "ns/darelwasl.auth", :kind :namespace, :name "darelwasl.auth", :source "src/darelwasl/auth.clj"} {:id "ns/darelwasl.automations", :kind :namespace, :name "darelwasl.automations", :source "src/darelwasl/automations.clj"} {:id "ns/darelwasl.betting", :kind :namespace, :name "darelwasl.betting", :source "src/darelwasl/betting.clj"} {:id "ns/darelwasl.bootstrap", :kind :namespace, :name "darelwasl.bootstrap", :source "src/darelwasl/bootstrap.clj"} {:id "ns/darelwasl.catalog", :kind :namespace, :name "darelwasl.catalog", :source "src/darelwasl/catalog.clj"} {:id "ns/darelwasl.catalog.generate", :kind :namespace, :name "darelwasl.catalog.generate", :source "src/darelwasl/catalog/generate.clj"} {:id "ns/darelwasl.checks.actions", :kind :namespace, :name "darelwasl.checks.actions", :source "src/darelwasl/checks/actions.clj"} {:id "ns/darelwasl.checks.idempotency", :kind :namespace, :name "darelwasl.checks.idempotency", :source "src/darelwasl/checks/idempotency.clj"} {:id "ns/darelwasl.checks.migration", :kind :namespace, :name "darelwasl.checks.migration", :source "src/darelwasl/checks/migration.clj"} {:id "ns/darelwasl.checks.schema", :kind :namespace, :name "darelwasl.checks.schema", :source "src/darelwasl/checks/schema.clj"} {:id "ns/darelwasl.config", :kind :namespace, :name "darelwasl.config", :source "src/darelwasl/config.clj"} {:id "ns/darelwasl.content", :kind :namespace, :name "darelwasl.content", :source "src/darelwasl/content.clj"} {:id "ns/darelwasl.db", :kind :namespace, :name "darelwasl.db", :source "src/darelwasl/db.clj"} {:id "ns/darelwasl.docs.generate", :kind :namespace, :name "darelwasl.docs.generate", :source "src/darelwasl/docs/generate.clj"} {:id "ns/darelwasl.entity", :kind :namespace, :name "darelwasl.entity", :source "src/darelwasl/entity.clj"} {:id "ns/darelwasl.events", :kind :namespace, :name "darelwasl.events", :source "src/darelwasl/events.clj"} {:id "ns/darelwasl.features.betting", :kind :namespace, :name "darelwasl.features.betting", :source "src/darelwasl/features/betting.cljs"} {:id "ns/darelwasl.features.control-panel", :kind :namespace, :name "darelwasl.features.control-panel", :source "src/darelwasl/features/control_panel.cljs"} {:id "ns/darelwasl.features.files", :kind :namespace, :name "darelwasl.features.files", :source "src/darelwasl/features/files.cljs"} {:id "ns/darelwasl.features.home", :kind :namespace, :name "darelwasl.features.home", :source "src/darelwasl/features/home.cljs"} {:id "ns/darelwasl.features.land", :kind :namespace, :name "darelwasl.features.land", :source "src/darelwasl/features/land.cljs"} {:id "ns/darelwasl.features.login", :kind :namespace, :name "darelwasl.features.login", :source "src/darelwasl/features/login.cljs"} {:id "ns/darelwasl.features.prs", :kind :namespace, :name "darelwasl.features.prs", :source "src/darelwasl/features/prs.cljs"} {:id "ns/darelwasl.features.services", :kind :namespace, :name "darelwasl.features.services", :source "src/darelwasl/features/services.cljs"} {:id "ns/darelwasl.features.tasks", :kind :namespace, :name "darelwasl.features.tasks", :source "src/darelwasl/features/tasks.cljs"} {:id "ns/darelwasl.features.terminal", :kind :namespace, :name "darelwasl.features.terminal", :source "src/darelwasl/features/terminal.cljs"} {:id "ns/darelwasl.features.users", :kind :namespace, :name "darelwasl.features.users", :source "src/darelwasl/features/users.cljs"} {:id "ns/darelwasl.files", :kind :namespace, :name "darelwasl.files", :source "src/darelwasl/files.clj"} {:id "ns/darelwasl.fixtures", :kind :namespace, :name "darelwasl.fixtures", :source "src/darelwasl/fixtures.clj"} {:id "ns/darelwasl.fx", :kind :namespace, :name "darelwasl.fx", :source "src/darelwasl/fx.cljs"} {:id "ns/darelwasl.github", :kind :namespace, :name "darelwasl.github", :source "src/darelwasl/github.clj"} {:id "ns/darelwasl.http", :kind :namespace, :name "darelwasl.http", :source "src/darelwasl/http.clj"} {:id "ns/darelwasl.http.common", :kind :namespace, :name "darelwasl.http.common", :source "src/darelwasl/http/common.clj"} {:id "ns/darelwasl.http.routes.actions", :kind :namespace, :name "darelwasl.http.routes.actions", :source "src/darelwasl/http/routes/actions.clj"} {:id "ns/darelwasl.http.routes.auth", :kind :namespace, :name "darelwasl.http.routes.auth", :source "src/darelwasl/http/routes/auth.clj"} {:id "ns/darelwasl.http.routes.betting", :kind :namespace, :name "darelwasl.http.routes.betting", :source "src/darelwasl/http/routes/betting.clj"} {:id "ns/darelwasl.http.routes.catalog", :kind :namespace, :name "darelwasl.http.routes.catalog", :source "src/darelwasl/http/routes/catalog.clj"} {:id "ns/darelwasl.http.routes.content", :kind :namespace, :name "darelwasl.http.routes.content", :source "src/darelwasl/http/routes/content.clj"} {:id "ns/darelwasl.http.routes.events", :kind :namespace, :name "darelwasl.http.routes.events", :source "src/darelwasl/http/routes/events.clj"} {:id "ns/darelwasl.http.routes.files", :kind :namespace, :name "darelwasl.http.routes.files", :source "src/darelwasl/http/routes/files.clj"} {:id "ns/darelwasl.http.routes.github", :kind :namespace, :name "darelwasl.http.routes.github", :source "src/darelwasl/http/routes/github.clj"} {:id "ns/darelwasl.http.routes.land", :kind :namespace, :name "darelwasl.http.routes.land", :source "src/darelwasl/http/routes/land.clj"} {:id "ns/darelwasl.http.routes.registries", :kind :namespace, :name "darelwasl.http.routes.registries", :source "src/darelwasl/http/routes/registries.clj"} {:id "ns/darelwasl.http.routes.system", :kind :namespace, :name "darelwasl.http.routes.system", :source "src/darelwasl/http/routes/system.clj"} {:id "ns/darelwasl.http.routes.tasks", :kind :namespace, :name "darelwasl.http.routes.tasks", :source "src/darelwasl/http/routes/tasks.clj"} {:id "ns/darelwasl.http.routes.telegram", :kind :namespace, :name "darelwasl.http.routes.telegram", :source "src/darelwasl/http/routes/telegram.clj"} {:id "ns/darelwasl.http.routes.terminal", :kind :namespace, :name "darelwasl.http.routes.terminal", :source "src/darelwasl/http/routes/terminal.clj"} {:id "ns/darelwasl.http.routes.users", :kind :namespace, :name "darelwasl.http.routes.users", :source "src/darelwasl/http/routes/users.clj"} {:id "ns/darelwasl.http.session-store", :kind :namespace, :name "darelwasl.http.session-store", :source "src/darelwasl/http/session_store.clj"} {:id "ns/darelwasl.importer", :kind :namespace, :name "darelwasl.importer", :source "src/darelwasl/importer.clj"} {:id "ns/darelwasl.land", :kind :namespace, :name "darelwasl.land", :source "src/darelwasl/land.clj"} {:id "ns/darelwasl.main", :kind :namespace, :name "darelwasl.main", :source "src/darelwasl/main.clj"} {:id "ns/darelwasl.outbox", :kind :namespace, :name "darelwasl.outbox", :source "src/darelwasl/outbox.clj"} {:id "ns/darelwasl.provenance", :kind :namespace, :name "darelwasl.provenance", :source "src/darelwasl/provenance.clj"} {:id "ns/darelwasl.rezultati-scraper", :kind :namespace, :name "darelwasl.rezultati-scraper", :source "src/darelwasl/rezultati_scraper.clj"} {:id "ns/darelwasl.schema", :kind :namespace, :name "darelwasl.schema", :source "src/darelwasl/schema.clj"} {:id "ns/darelwasl.server", :kind :namespace, :name "darelwasl.server", :source "src/darelwasl/server.clj"} {:id "ns/darelwasl.shared.block-types", :kind :namespace, :name "darelwasl.shared.block-types", :source "src/darelwasl/shared/block_types.cljc"} {:id "ns/darelwasl.site.http", :kind :namespace, :name "darelwasl.site.http", :source "src/darelwasl/site/http.clj"} {:id "ns/darelwasl.site.main", :kind :namespace, :name "darelwasl.site.main", :source "src/darelwasl/site/main.clj"} {:id "ns/darelwasl.site.server", :kind :namespace, :name "darelwasl.site.server", :source "src/darelwasl/site/server.clj"} {:id "ns/darelwasl.site.templates", :kind :namespace, :name "darelwasl.site.templates", :source "src/darelwasl/site/templates.clj"} {:id "ns/darelwasl.state", :kind :namespace, :name "darelwasl.state", :source "src/darelwasl/state.cljs"} {:id "ns/darelwasl.tasks", :kind :namespace, :name "darelwasl.tasks", :source "src/darelwasl/tasks.clj"} {:id "ns/darelwasl.telegram", :kind :namespace, :name "darelwasl.telegram", :source "src/darelwasl/telegram.clj"} {:id "ns/darelwasl.telegram.dev", :kind :namespace, :name "darelwasl.telegram.dev", :source "src/darelwasl/telegram/dev.clj"} {:id "ns/darelwasl.terminal.app-client", :kind :namespace, :name "darelwasl.terminal.app-client", :source "src/darelwasl/terminal/app_client.clj"} {:id "ns/darelwasl.terminal.backend", :kind :namespace, :name "darelwasl.terminal.backend", :source "src/darelwasl/terminal/backend.clj"} {:id "ns/darelwasl.terminal.client", :kind :namespace, :name "darelwasl.terminal.client", :source "src/darelwasl/terminal/client.clj"} {:id "ns/darelwasl.terminal.commands", :kind :namespace, :name "darelwasl.terminal.commands", :source "src/darelwasl/terminal/commands.clj"} {:id "ns/darelwasl.terminal.http", :kind :namespace, :name "darelwasl.terminal.http", :source "src/darelwasl/terminal/http.clj"} {:id "ns/darelwasl.terminal.main", :kind :namespace, :name "darelwasl.terminal.main", :source "src/darelwasl/terminal/main.clj"} {:id "ns/darelwasl.terminal.session", :kind :namespace, :name "darelwasl.terminal.session", :source "src/darelwasl/terminal/session.clj"} {:id "ns/darelwasl.terminal.store", :kind :namespace, :name "darelwasl.terminal.store", :source "src/darelwasl/terminal/store.clj"} {:id "ns/darelwasl.terminal.tmux", :kind :namespace, :name "darelwasl.terminal.tmux", :source "src/darelwasl/terminal/tmux.clj"} {:id "ns/darelwasl.ui.components", :kind :namespace, :name "darelwasl.ui.components", :source "src/darelwasl/ui/components.cljs"} {:id "ns/darelwasl.ui.entity", :kind :namespace, :name "darelwasl.ui.entity", :source "src/darelwasl/ui/entity.cljs"} {:id "ns/darelwasl.ui.shell", :kind :namespace, :name "darelwasl.ui.shell", :source "src/darelwasl/ui/shell.cljs"} {:id "ns/darelwasl.users", :kind :namespace, :name "darelwasl.users", :source "src/darelwasl/users.clj"} {:id "ns/darelwasl.util", :kind :namespace, :name "darelwasl.util", :source "src/darelwasl/util.cljs"} {:id "ns/darelwasl.validation", :kind :namespace, :name "darelwasl.validation", :source "src/darelwasl/validation.clj"} {:id "ns/darelwasl.workers.betting-scheduler", :kind :namespace, :name "darelwasl.workers.betting-scheduler", :source "src/darelwasl/workers/betting_scheduler.clj"} {:id "ns/darelwasl.workers.outbox", :kind :namespace, :name "darelwasl.workers.outbox", :source "src/darelwasl/workers/outbox.clj"} {:id "ns/darelwasl.workers.telegram-poller", :kind :namespace, :name "darelwasl.workers.telegram-poller", :source "src/darelwasl/workers/telegram_poller.clj"} {:id "ns/darelwasl.workspace", :kind :namespace, :name "darelwasl.workspace", :source "src/darelwasl/workspace.clj"} {:id "ns/darelwasl.workspaces", :kind :namespace, :name "darelwasl.workspaces", :source "src/darelwasl/workspaces.clj"} {:id "route/+$", :kind :route, :name "/+$", :path "/+$", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/:id", :kind :route, :name "/:id", :path "/:id", :source ["src/darelwasl/http/routes/actions.clj" "src/darelwasl/http/routes/catalog.clj" "src/darelwasl/http/routes/tasks.clj"]} {:id "route/:id{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}", :kind :route, :name "/:id{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}", :path "/:id{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}", :source ["src/darelwasl/http/routes/content.clj" "src/darelwasl/http/routes/files.clj" "src/darelwasl/http/routes/tasks.clj" "src/darelwasl/http/routes/users.clj"]} {:id "route/actions", :kind :route, :name "/actions", :path "/actions", :source ["src/darelwasl/http/routes/actions.clj"]} {:id "route/activation-steps", :kind :route, :name "/activation-steps", :path "/activation-steps", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/api", :kind :route, :name "/api", :path "/api", :source ["src/darelwasl/http.clj"]} {:id "route/archive", :kind :route, :name "/archive", :path "/archive", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/assignee", :kind :route, :name "/assignee", :path "/assignee", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/backend", :kind :route, :name "/backend", :path "/backend", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/bets", :kind :route, :name "/bets", :path "/bets", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/bets/:id/settle", :kind :route, :name "/bets/:id/settle", :path "/bets/:id/settle", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/betting", :kind :route, :name "/betting", :path "/betting", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/blocks", :kind :route, :name "/blocks", :path "/blocks", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/businesses", :kind :route, :name "/businesses", :path "/businesses", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/catalog", :kind :route, :name "/catalog", :path "/catalog", :source ["src/darelwasl/http/routes/catalog.clj"]} {:id "route/commands/run", :kind :route, :name "/commands/run", :path "/commands/run", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/comparison-rows", :kind :route, :name "/comparison-rows", :path "/comparison-rows", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/complete", :kind :route, :name "/complete", :path "/complete", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/contacts", :kind :route, :name "/contacts", :path "/contacts", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/content", :kind :route, :name "/content", :path "/content", :source ["src/darelwasl/http/routes/content.clj" "src/darelwasl/http/routes/files.clj"]} {:id "route/counts", :kind :route, :name "/counts", :path "/counts", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/data", :kind :route, :name "/data", :path "/data", :source ["src/darelwasl/http/routes/catalog.clj"]} {:id "route/due-date", :kind :route, :name "/due-date", :path "/due-date", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/events", :kind :route, :name "/events", :path "/events", :source ["src/darelwasl/http/routes/betting.clj" "src/darelwasl/http/routes/events.clj"]} {:id "route/events/:id/close", :kind :route, :name "/events/:id/close", :path "/events/:id/close", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/events/:id/odds", :kind :route, :name "/events/:id/odds", :path "/events/:id/odds", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/files", :kind :route, :name "/files", :path "/files", :source ["src/darelwasl/http/routes/files.clj"]} {:id "route/github", :kind :route, :name "/github", :path "/github", :source ["src/darelwasl/http/routes/github.clj"]} {:id "route/health", :kind :route, :name "/health", :path "/health", :source ["src/darelwasl/http.clj" "src/darelwasl/http/routes/system.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/input", :kind :route, :name "/input", :path "/input", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/interrupt", :kind :route, :name "/interrupt", :path "/interrupt", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/journey-phases", :kind :route, :name "/journey-phases", :path "/journey-phases", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/keys", :kind :route, :name "/keys", :path "/keys", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/land", :kind :route, :name "/land", :path "/land", :source ["src/darelwasl/http/routes/land.clj"]} {:id "route/licenses", :kind :route, :name "/licenses", :path "/licenses", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/link-token", :kind :route, :name "/link-token", :path "/link-token", :source ["src/darelwasl/http/routes/telegram.clj"]} {:id "route/login", :kind :route, :name "/login", :path "/login", :source ["src/darelwasl/http/routes/auth.clj"]} {:id "route/output", :kind :route, :name "/output", :path "/output", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/pages", :kind :route, :name "/pages", :path "/pages", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/parcels", :kind :route, :name "/parcels", :path "/parcels", :source ["src/darelwasl/http/routes/land.clj"]} {:id "route/parcels/:id", :kind :route, :name "/parcels/:id", :path "/parcels/:id", :source ["src/darelwasl/http/routes/land.clj"]} {:id "route/people", :kind :route, :name "/people", :path "/people", :source ["src/darelwasl/http/routes/land.clj"]} {:id "route/people/:id", :kind :route, :name "/people/:id", :path "/people/:id", :source ["src/darelwasl/http/routes/land.clj"]} {:id "route/personas", :kind :route, :name "/personas", :path "/personas", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/pulls", :kind :route, :name "/pulls", :path "/pulls", :source ["src/darelwasl/http/routes/github.clj"]} {:id "route/recent", :kind :route, :name "/recent", :path "/recent", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/recognize", :kind :route, :name "/recognize", :path "/recognize", :source ["src/darelwasl/http/routes/telegram.clj"]} {:id "route/registries", :kind :route, :name "/registries", :path "/registries", :source ["src/darelwasl/http/routes/registries.clj"]} {:id "route/restart", :kind :route, :name "/restart", :path "/restart", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/restart-app", :kind :route, :name "/restart-app", :path "/restart-app", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/resume", :kind :route, :name "/resume", :path "/resume", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/rezultati/daily", :kind :route, :name "/rezultati/daily", :path "/rezultati/daily", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/rezultati/match/:id", :kind :route, :name "/rezultati/match/:id", :path "/rezultati/match/:id", :source ["src/darelwasl/http/routes/betting.clj"]} {:id "route/services", :kind :route, :name "/services", :path "/services", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/services/:id/restart", :kind :route, :name "/services/:id/restart", :path "/services/:id/restart", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/session", :kind :route, :name "/session", :path "/session", :source ["src/darelwasl/http/routes/auth.clj"]} {:id "route/sessions", :kind :route, :name "/sessions", :path "/sessions", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/", :kind :route, :name "/sessions/", :path "/sessions/", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/sessions/:id", :kind :route, :name "/sessions/:id", :path "/sessions/:id", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/cleanup", :kind :route, :name "/sessions/:id/cleanup", :path "/sessions/:id/cleanup", :source ["src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/commands", :kind :route, :name "/sessions/:id/commands", :path "/sessions/:id/commands", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/sessions/:id/commands/claim", :kind :route, :name "/sessions/:id/commands/claim", :path "/sessions/:id/commands/claim", :source ["src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/commands/run", :kind :route, :name "/sessions/:id/commands/run", :path "/sessions/:id/commands/run", :source ["src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/complete", :kind :route, :name "/sessions/:id/complete", :path "/sessions/:id/complete", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/input", :kind :route, :name "/sessions/:id/input", :path "/sessions/:id/input", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/interrupt", :kind :route, :name "/sessions/:id/interrupt", :path "/sessions/:id/interrupt", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/keys", :kind :route, :name "/sessions/:id/keys", :path "/sessions/:id/keys", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/output", :kind :route, :name "/sessions/:id/output", :path "/sessions/:id/output", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/ports/reallocate", :kind :route, :name "/sessions/:id/ports/reallocate", :path "/sessions/:id/ports/reallocate", :source ["src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/restart-app", :kind :route, :name "/sessions/:id/restart-app", :path "/sessions/:id/restart-app", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/resume", :kind :route, :name "/sessions/:id/resume", :path "/sessions/:id/resume", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/sessions/:id/verify", :kind :route, :name "/sessions/:id/verify", :path "/sessions/:id/verify", :source ["src/darelwasl/http/routes/terminal.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/site/restart", :kind :route, :name "/site/restart", :path "/site/restart", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/stats", :kind :route, :name "/stats", :path "/stats", :source ["src/darelwasl/http/routes/land.clj"]} {:id "route/status", :kind :route, :name "/status", :path "/status", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/support-entries", :kind :route, :name "/support-entries", :path "/support-entries", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/system", :kind :route, :name "/system", :path "/system", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/system/actions/:id", :kind :route, :name "/system/actions/:id", :path "/system/actions/:id", :source ["src/darelwasl/http/routes/system.clj"]} {:id "route/system/restart", :kind :route, :name "/system/restart", :path "/system/restart", :source ["src/darelwasl/http/routes/system.clj" "src/darelwasl/terminal/http.clj"]} {:id "route/tags", :kind :route, :name "/tags", :path "/tags", :source ["src/darelwasl/http/routes/content.clj" "src/darelwasl/http/routes/tasks.clj"]} {:id "route/tasks", :kind :route, :name "/tasks", :path "/tasks", :source ["src/darelwasl/http/routes/tasks.clj"]} {:id "route/telegram", :kind :route, :name "/telegram", :path "/telegram", :source ["src/darelwasl/http/routes/telegram.clj"]} {:id "route/terminal", :kind :route, :name "/terminal", :path "/terminal", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/terminal/sessions/:id/app", :kind :route, :name "/terminal/sessions/:id/app", :path "/terminal/sessions/:id/app", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/users", :kind :route, :name "/users", :path "/users", :source ["src/darelwasl/http/routes/users.clj"]} {:id "route/v2", :kind :route, :name "/v2", :path "/v2", :source ["src/darelwasl/http/routes/content.clj"]} {:id "route/verify", :kind :route, :name "/verify", :path "/verify", :source ["src/darelwasl/http/routes/terminal.clj"]} {:id "route/webhook", :kind :route, :name "/webhook", :path "/webhook", :source ["src/darelwasl/http/routes/telegram.clj"]} {:id "schema/schema/activation-step", :kind :schema, :name "Activation Step", :registry :schema, :registry-id :cap/schema/activation-step, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/journey-phase]}, :title "Activation Step", :id :cap/schema/activation-step, :invariants ["Title non-empty" "Entity type set to :entity.type/activation-step"], :version "v1", :enums [], :attributes [{:ident :activation.step/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Activation step identity"} {:ident :activation.step/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Step title"} {:ident :activation.step/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering in activation list"} {:ident :activation.step/phase, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Optional journey phase association"}]}} {:id "schema/schema/betting-bet", :kind :schema, :name "Betting Bet", :registry :schema, :registry-id :cap/schema/betting-bet, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/betting-event :cap/schema/betting-bookmaker]}, :title "Betting Bet", :id :cap/schema/betting-bet, :invariants ["Event reference required" "Reference probability must be positive" "Entity type set to :entity.type/betting-bet"], :version "v1", :enums #:betting.bet{:status [:pending :won :lost :push]}, :attributes [{:ident :betting.bet/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Bet identity"} {:ident :betting.bet/event, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Event reference"} {:ident :betting.bet/bookmaker, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Bookmaker reference (optional for manual odds)"} {:ident :betting.bet/market-key, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Market key (e.g., h2h)"} {:ident :betting.bet/selection, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Outcome/selection label"} {:ident :betting.bet/odds-decimal, :type :db.type/double, :cardinality :db.cardinality/one, :doc "Decimal odds at bet time (optional)"} {:ident :betting.bet/implied-prob, :type :db.type/double, :cardinality :db.cardinality/one, :doc "Reference no-vig probability at bet time"} {:ident :betting.bet/placed-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When the bet was logged"} {:ident :betting.bet/status, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Bet status"} {:ident :betting.bet/settled-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When the result was settled"}]}} {:id "schema/schema/betting-bookmaker", :kind :schema, :name "Betting Bookmaker", :registry :schema, :registry-id :cap/schema/betting-bookmaker, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Betting Bookmaker", :id :cap/schema/betting-bookmaker, :invariants ["Bookmaker key unique" "Entity type set to :entity.type/betting-bookmaker"], :version "v1", :enums [], :attributes [{:ident :betting.bookmaker/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Bookmaker identity"} {:ident :betting.bookmaker/key, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Bookmaker key (e.g., pinnacle)"} {:ident :betting.bookmaker/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Display title"}]}} {:id "schema/schema/betting-event", :kind :schema, :name "Betting Event", :registry :schema, :registry-id :cap/schema/betting-event, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Betting Event", :id :cap/schema/betting-event, :invariants ["External id unique" "Commence time present" "Entity type set to :entity.type/betting-event"], :version "v1", :enums #:betting.event{:status [:scheduled :live :final]}, :attributes [{:ident :betting.event/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Betting event identity"} {:ident :betting.event/external-id, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "External provider event id (e.g., Rezultati match id)"} {:ident :betting.event/sport-key, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Provider sport key (e.g., soccer_epl)"} {:ident :betting.event/sport-title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Sport title label"} {:ident :betting.event/commence-time, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Scheduled start time"} {:ident :betting.event/home-team, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Home team name"} {:ident :betting.event/away-team, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Away team name"} {:ident :betting.event/status, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Event status"} {:ident :betting.event/last-updated, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Last time this event was refreshed"}]}} {:id "schema/schema/betting-fact", :kind :schema, :name "Betting Fact", :registry :schema, :registry-id :cap/schema/betting-fact, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Betting Fact", :id :cap/schema/betting-fact, :invariants ["Fact type required" "Entity type set to :entity.type/betting-fact"], :version "v1", :enums #:betting.fact{:type [:bet-log :quote-capture :close-capture :settle]}, :attributes [{:ident :betting.fact/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Betting fact identity"} {:ident :betting.fact/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Fact type"} {:ident :betting.fact/event, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Related event (optional)"} {:ident :betting.fact/bet, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Related bet (optional)"} {:ident :betting.fact/quote, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Related quote (optional)"} {:ident :betting.fact/created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When the fact was recorded"} {:ident :betting.fact/note, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Optional note or context"}]}} {:id "schema/schema/betting-quote", :kind :schema, :name "Betting Quote Snapshot", :registry :schema, :registry-id :cap/schema/betting-quote, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/betting-event :cap/schema/betting-bookmaker]}, :title "Betting Quote Snapshot", :id :cap/schema/betting-quote, :invariants ["Event and bookmaker refs required" "Odds and implied probability must be positive" "Entity type set to :entity.type/betting-quote"], :version "v1", :enums [], :attributes [{:ident :betting.quote/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Quote snapshot identity"} {:ident :betting.quote/event, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Event reference"} {:ident :betting.quote/bookmaker, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Bookmaker reference"} {:ident :betting.quote/market-key, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Market key (e.g., h2h)"} {:ident :betting.quote/selection, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Outcome/selection label"} {:ident :betting.quote/odds-decimal, :type :db.type/double, :cardinality :db.cardinality/one, :doc "Decimal odds at capture time"} {:ident :betting.quote/implied-prob, :type :db.type/double, :cardinality :db.cardinality/one, :doc "No-vig implied probability at capture time"} {:ident :betting.quote/close?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Whether this snapshot is marked as close"} {:ident :betting.quote/captured-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When this snapshot was captured"}]}} {:id "schema/schema/business", :kind :schema, :name "Business Entity", :registry :schema, :registry-id :cap/schema/business, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/contact]}, :title "Business Entity", :id :cap/schema/business, :invariants ["Business id unique" "Entity type set to :entity.type/business"], :version "v1", :enums [], :attributes [{:ident :business/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Business identity"} {:ident :business/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Business name"} {:ident :business/tagline, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Short strapline"} {:ident :business/summary, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Brief summary"} {:ident :business/mission, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Mission statement"} {:ident :business/vision, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Vision statement"} {:ident :business/nav-label, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Navigation label"} {:ident :business/hero-headline, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Hero headline"} {:ident :business/hero-strapline, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Hero supporting line"} {:ident :business/contact, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Ref to contact details"} {:ident :business/hero-stats, :type :db.type/ref, :cardinality :db.cardinality/many, :doc "Refs to hero stats"} {:ident :business/hero-flows, :type :db.type/ref, :cardinality :db.cardinality/many, :doc "Refs to hero flow steps"} {:ident :business/visible?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Visibility toggle"}]}} {:id "schema/schema/channel", :kind :schema, :name "Channel (surface/bot/chat)", :registry :schema, :registry-id :cap/schema/channel, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Channel (surface/bot/chat)", :id :cap/schema/channel, :invariants ["Channel remote-id must be unique per platform/workspace" "Entity type set to :entity.type/channel"], :version "v1", :enums [], :attributes [{:ident :channel/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Stable channel identity (bot/chat or other surface endpoint)"} {:ident :channel/platform, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Platform (e.g., :platform/telegram, :platform/web, :platform/email)"} {:ident :channel/remote-id, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Platform-specific identifier (e.g., Telegram chat/user id)"} {:ident :channel/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Display label for the channel"} {:ident :channel/workspace, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Workspace/tenant the channel belongs to"} {:ident :channel/bot?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Whether this channel represents a bot endpoint"}]}} {:id "schema/schema/comparison-row", :kind :schema, :name "Comparison Row", :registry :schema, :registry-id :cap/schema/comparison-row, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/license]}, :title "Comparison Row", :id :cap/schema/comparison-row, :invariants ["Criterion non-empty" "Entity type set to :entity.type/comparison-row"], :version "v1", :enums [], :attributes [{:ident :comparison.row/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Comparison row identity"} {:ident :comparison.row/criterion, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Criteria label"} {:ident :comparison.row/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering in matrix"} {:ident :comparison.row/entrepreneur, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Entrepreneur license value"} {:ident :comparison.row/general, :type :db.type/string, :cardinality :db.cardinality/one, :doc "General investment license value"} {:ident :comparison.row/gcc, :type :db.type/string, :cardinality :db.cardinality/one, :doc "GCC license value"}]}} {:id "schema/schema/contact", :kind :schema, :name "Contact", :registry :schema, :registry-id :cap/schema/contact, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/business]}, :title "Contact", :id :cap/schema/contact, :invariants ["Contact id unique" "Entity type set to :entity.type/contact"], :version "v1", :enums [], :attributes [{:ident :contact/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Contact identity"} {:ident :contact/email, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Email address"} {:ident :contact/phone, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Phone number"} {:ident :contact/primary-cta-label, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Primary CTA label"} {:ident :contact/primary-cta-url, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Primary CTA URL"} {:ident :contact/secondary-cta-label, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Secondary CTA label"} {:ident :contact/secondary-cta-url, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Secondary CTA URL"}]}} {:id "schema/schema/content-block", :kind :schema, :name "Content Block", :registry :schema, :registry-id :cap/schema/content-block, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:actions [:cap/action/content-blocks], :views [:cap/view/control-panel]}, :title "Content Block", :id :cap/schema/content-block, :invariants ["Block id and type required" "Order is non-negative when set" "Slug unique when present" "Blocks associated to a page must reference that page" "Entity type set to :entity.type/content-block"], :version "v1", :enums #:content.block{:type [:hero :section :rich-text :feature :cta :list]}, :attributes [{:ident :content.block/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Content block identity"} {:ident :content.block/page, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Parent page ref (optional for reusable blocks)"} {:ident :content.block/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Block type (hero, section, list, card, CTA, etc.)"} {:ident :content.block/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Block title/heading"} {:ident :content.block/body, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Block body/markdown content"} {:ident :content.block/media-ref, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Placeholder media reference (URL/key)"} {:ident :content.block/slug, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Slug/anchor for linking or targeting"} {:ident :content.block/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering within a page/section"} {:ident :content.block/visible?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Visibility toggle"} {:ident :content.block/tag, :type :db.type/ref, :cardinality :db.cardinality/many, :doc "Tags/categories"}]}} {:id "schema/schema/content-page", :kind :schema, :name "Content Page", :registry :schema, :registry-id :cap/schema/content-page, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:actions [:cap/action/content-pages], :views [:cap/view/control-panel]}, :title "Content Page", :id :cap/schema/content-page, :invariants ["Path unique and non-empty" "Id, title, and path required" "Blocks referenced belong to this page" "Entity type set to :entity.type/content-page"], :version "v1", :enums #:content.page{:section-type [:section/hero :section/services :section/comparison :section/journey :section/personas :section/support :section/faq :section/contact :section/about]}, :attributes [{:ident :content.page/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Page identity"} {:ident :content.page/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Page title"} {:ident :content.page/path, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Route path or slug (leading slash preferred)"} {:ident :content.page/summary, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Short description/metadata"} {:ident :content.page/section-type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Optional section type hint for rendering (e.g., :section/hero, :section/comparison)"} {:ident :content.page/blocks, :type :db.type/ref, :cardinality :db.cardinality/many, :doc "Refs to blocks for this page (ordering via :content.block/order)"} {:ident :content.page/navigation-order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering for nav/sitemap"} {:ident :content.page/visible?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Visibility toggle"} {:ident :content.page/tag, :type :db.type/ref, :cardinality :db.cardinality/many, :doc "Tags/categories"}]}} {:id "schema/schema/content-tag", :kind :schema, :name "Content Tag", :registry :schema, :registry-id :cap/schema/content-tag, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:actions [:cap/action/content-tags], :views [:cap/view/control-panel]}, :title "Content Tag", :id :cap/schema/content-tag, :invariants ["Name required and unique" "Slug unique when present" "Entity type set to :entity.type/content-tag"], :version "v1", :enums [], :attributes [{:ident :content.tag/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Content tag identity"} {:ident :content.tag/name, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Display name"} {:ident :content.tag/slug, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Slug for routing/anchors"} {:ident :content.tag/description, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Optional description"}]}} {:id "schema/schema/entity", :kind :schema, :name "Entity Base", :registry :schema, :registry-id :cap/schema/entity, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema []}, :title "Entity Base", :id :cap/schema/entity, :invariants ["Every persisted entity must set :entity/type to its type ident"], :version "v1", :enums [], :attributes [{:ident :entity/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Discriminator for entity type (e.g., :entity.type/task)"} {:ident :entity/ref, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Short reference id for humans (e.g., T-7F2A1)"}]}} {:id "schema/schema/faq", :kind :schema, :name "FAQ", :registry :schema, :registry-id :cap/schema/faq, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema []}, :title "FAQ", :id :cap/schema/faq, :invariants ["Question non-empty" "Entity type set to :entity.type/faq"], :version "v1", :enums [], :attributes [{:ident :faq/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "FAQ identity"} {:ident :faq/question, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Question"} {:ident :faq/answer, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Answer"} {:ident :faq/scope, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Optional scope (e.g., license type or section)"} {:ident :faq/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering"} {:ident :faq/visible?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Visibility toggle"}]}} {:id "schema/schema/file", :kind :schema, :name "File Library Asset", :registry :schema, :registry-id :cap/schema/file, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:actions [:cap/action/file-upload :cap/action/file-delete], :views [:cap/view/file-library], :schema [:cap/schema/entity :cap/schema/user]}, :title "File Library Asset", :id :cap/schema/file, :invariants ["File id and slug must be unique" "Files scoped by workspace" "File entities set :entity/type to :entity.type/file" "Storage path points to a locally stored file"], :version "v1", :enums #:file{:type [:file.type/image :file.type/pdf :file.type/markdown]}, :attributes [{:ident :file/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "File identity"} {:ident :file/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Original filename"} {:ident :file/slug, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Stable slug for referencing the file"} {:ident :file/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "File type enum"} {:ident :file/mime, :type :db.type/string, :cardinality :db.cardinality/one, :doc "MIME type"} {:ident :file/size-bytes, :type :db.type/long, :cardinality :db.cardinality/one, :doc "File size in bytes"} {:ident :file/checksum, :type :db.type/string, :cardinality :db.cardinality/one, :doc "SHA-256 checksum of the stored file"} {:ident :file/storage-path, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Relative storage path on disk"} {:ident :file/created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Creation timestamp"} {:ident :file/created-by, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "User who uploaded the file"} {:ident :file/workspace, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Workspace/tenant for scoping"}]}} {:id "schema/schema/hero-flow", :kind :schema, :name "Hero Flow Step", :registry :schema, :registry-id :cap/schema/hero-flow, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema []}, :title "Hero Flow Step", :id :cap/schema/hero-flow, :invariants ["Title non-empty" "Entity type set to :entity.type/hero-flow"], :version "v1", :enums [], :attributes [{:ident :hero.flow/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Hero flow step identity"} {:ident :hero.flow/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Step title"} {:ident :hero.flow/detail, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Step detail"} {:ident :hero.flow/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering"}]}} {:id "schema/schema/hero-stat", :kind :schema, :name "Hero Stat", :registry :schema, :registry-id :cap/schema/hero-stat, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema []}, :title "Hero Stat", :id :cap/schema/hero-stat, :invariants ["Label non-empty" "Entity type set to :entity.type/hero-stat"], :version "v1", :enums [], :attributes [{:ident :hero.stat/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Hero stat identity"} {:ident :hero.stat/label, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Label"} {:ident :hero.stat/value, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Value"} {:ident :hero.stat/hint, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Supporting hint"} {:ident :hero.stat/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering"}]}} {:id "schema/schema/journey-phase", :kind :schema, :name "Journey Phase", :registry :schema, :registry-id :cap/schema/journey-phase, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/activation-step]}, :title "Journey Phase", :id :cap/schema/journey-phase, :invariants ["Title non-empty" "Phase kind in enum" "Entity type set to :entity.type/journey-phase"], :version "v1", :enums #:journey.phase{:kind [:phase/pre-incorporation :phase/incorporation :phase/post-incorporation]}, :attributes [{:ident :journey.phase/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Journey phase identity"} {:ident :journey.phase/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Phase title"} {:ident :journey.phase/kind, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Phase enum (pre-incorporation/incorporation/post-incorporation)"} {:ident :journey.phase/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering in journey"} {:ident :journey.phase/bullets, :type :db.type/string, :cardinality :db.cardinality/many, :doc "Bullet points for the phase"}]}} {:id "schema/schema/license", :kind :schema, :name "License", :registry :schema, :registry-id :cap/schema/license, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/comparison-row]}, :title "License", :id :cap/schema/license, :invariants ["License id and slug unique" "License type in enum" "Entity type set to :entity.type/license"], :version "v1", :enums #:license{:type [:license.type/general :license.type/entrepreneur :license.type/gcc]}, :attributes [{:ident :license/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "License identity"} {:ident :license/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "License type enum (general, entrepreneur, gcc)"} {:ident :license/slug, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Slug/lookup key"} {:ident :license/label, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Display label"} {:ident :license/processing-time, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Processing time copy"} {:ident :license/ownership, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Ownership note"} {:ident :license/renewal-cost, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Renewal cost text"} {:ident :license/pricing-lines, :type :db.type/string, :cardinality :db.cardinality/many, :doc "Pricing lines (text)"} {:ident :license/activities, :type :db.type/string, :cardinality :db.cardinality/many, :doc "Activities list"} {:ident :license/who, :type :db.type/string, :cardinality :db.cardinality/many, :doc "Audience highlights"} {:ident :license/who-activities, :type :db.type/string, :cardinality :db.cardinality/many, :doc "Audience activity examples"} {:ident :license/document-checklist, :type :db.type/string, :cardinality :db.cardinality/many, :doc "Document checklist items"} {:ident :license/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering among licenses"} {:ident :license/visible?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Visibility toggle"}]}} {:id "schema/schema/note", :kind :schema, :name "Note (fact/annotation)", :registry :schema, :registry-id :cap/schema/note, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Note (fact/annotation)", :id :cap/schema/note, :invariants ["Notes carry :note/type and :note/subject" "Entity type set to :entity.type/note"], :version "v1", :enums [], :attributes [{:ident :note/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Note identity"} {:ident :note/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Note type (e.g., :note.type/pending-reason, :note.type/comment, :note.type/system)"} {:ident :note/body, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Note content"} {:ident :note/subject, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Entity the note annotates (task, channel, person, etc.)"} {:ident :note/author, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Authoring user/person (optional for system notes)"} {:ident :note/created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Creation timestamp"} {:ident :note/workspace, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Workspace/tenant for scoping"}]}} {:id "schema/schema/outbox", :kind :schema, :name "Outbox", :registry :schema, :registry-id :cap/schema/outbox, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Outbox", :id :cap/schema/outbox, :invariants ["Outbox entries must set :entity/type to :entity.type/outbox" "Dedupe key unique when present"], :version "v1", :enums #:outbox{:status [:pending :processing :succeeded :failed]}, :attributes [{:ident :outbox/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Outbox entry id"} {:ident :outbox/integration, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Target integration (e.g., :integration/telegram)"} {:ident :outbox/status, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Delivery status (:pending, :processing, :succeeded, :failed)"} {:ident :outbox/payload, :type :db.type/string, :cardinality :db.cardinality/one, :doc "EDN-encoded payload for the integration"} {:ident :outbox/dedupe-key, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Idempotency key for this delivery (optional)"} {:ident :outbox/attempts, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Number of delivery attempts"} {:ident :outbox/available-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When this job becomes available for delivery"} {:ident :outbox/locked-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When a worker claimed this job"} {:ident :outbox/worker, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Worker id that claimed the job"} {:ident :outbox/last-error, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Last error message (if any)"} {:ident :outbox/created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Creation timestamp"} {:ident :outbox/updated-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Last status change timestamp"}]}} {:id "schema/schema/ownership", :kind :schema, :name "Ownership Share", :registry :schema, :registry-id :cap/schema/ownership, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/person :cap/schema/parcel], :actions [:cap/action/parcel-import], :views [:cap/view/land-registry]}, :title "Ownership Share", :id :cap/schema/ownership, :invariants ["Person and parcel refs required" "Share denominator > 0" "Per-parcel share totals must sum to 1.0 within tolerance" "Entity type set to :entity.type/ownership"], :version "v1", :enums [], :attributes [{:ident :ownership/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Stable ownership link identity"} {:ident :ownership/person, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Owner (ref to :person/id)"} {:ident :ownership/parcel, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Parcel (ref to :parcel/id)"} {:ident :ownership/share-numerator, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Share numerator"} {:ident :ownership/share-denominator, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Share denominator"} {:ident :ownership/share, :type :db.type/double, :cardinality :db.cardinality/one, :doc "Computed share fraction (numerator/denominator)"} {:ident :ownership/area-share-m2, :type :db.type/double, :cardinality :db.cardinality/one, :doc "Area attributed to this share"} {:ident :ownership/list-order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Owner order in the parcels list (upisana_osoba_redni_broj)"} {:ident :ownership/position-in-list, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Owner position within the list entry (upisana_osoba_pozicija_u_listi)"} {:ident :ownership/source-raw, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Raw share string from source"} {:ident :ownership/source-ref, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Deterministic source reference for this ownership row"}]}} {:id "schema/schema/parcel", :kind :schema, :name "Parcel", :registry :schema, :registry-id :cap/schema/parcel, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/ownership], :actions [:cap/action/parcel-import :cap/action/parcel-list :cap/action/parcel-detail :cap/action/parcel-stats], :views [:cap/view/land-registry]}, :title "Parcel", :id :cap/schema/parcel, :invariants ["Cadastral id + parcel number uniquely identify a parcel" "Area must be non-negative" "Entity type set to :entity.type/parcel"], :version "v1", :enums [], :attributes [{:ident :parcel/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Stable parcel identity (deterministic from cadastral-id + parcel number)"} {:ident :parcel/cadastral-id, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Cadastral unit id (e.g., 302724)"} {:ident :parcel/cadastral-name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Cadastral unit name (e.g., HRIB)"} {:ident :parcel/number, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Parcel number within cadastral unit"} {:ident :parcel/book-number, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Possession list / book number"} {:ident :parcel/address, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Parcel address or description"} {:ident :parcel/area-m2, :type :db.type/double, :cardinality :db.cardinality/one, :doc "Parcel area in square meters"} {:ident :parcel/source-ref, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Deterministic source reference (e.g., CSV row/parcel key)"}]}} {:id "schema/schema/person", :kind :schema, :name "Person (Land Registry)", :registry :schema, :registry-id :cap/schema/person, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/ownership], :actions [:cap/action/parcel-import :cap/action/person-list :cap/action/person-detail], :views [:cap/view/land-registry]}, :title "Person (Land Registry)", :id :cap/schema/person, :invariants ["Person identity is normalized name+address" "Entity type set to :entity.type/person" "Workspace required when multi-tenant"], :version "v1", :enums [], :attributes [{:ident :person/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Stable person identity (deterministic from normalized name+address)"} {:ident :person/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Person name as provided"} {:ident :person/name-normalized, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Upper/trimmed name for dedupe"} {:ident :person/address, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Address as provided"} {:ident :person/address-normalized, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Upper/trimmed address for dedupe"} {:ident :person/source-ref, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Deterministic source reference (e.g., CSV row/person key)"} {:ident :person/roles, :type :db.type/keyword, :cardinality :db.cardinality/many, :doc "Roles/segments (e.g., :role/user, :role/client, :role/staff)"} {:ident :person/workspace, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Workspace/tenant scope"}]}} {:id "schema/schema/persona", :kind :schema, :name "Persona", :registry :schema, :registry-id :cap/schema/persona, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema []}, :title "Persona", :id :cap/schema/persona, :invariants ["Title non-empty" "Entity type set to :entity.type/persona"], :version "v1", :enums [], :attributes [{:ident :persona/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Persona identity"} {:ident :persona/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Persona title"} {:ident :persona/detail, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Persona detail/benefit"} {:ident :persona/type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Optional persona type"} {:ident :persona/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering in list"} {:ident :persona/visible?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Visibility toggle"}]}} {:id "schema/schema/provenance", :kind :schema, :name "Fact provenance", :registry :schema, :registry-id :cap/schema/provenance, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity]}, :title "Fact provenance", :id :cap/schema/provenance, :invariants ["Facts must carry source-type/id and workspace" "Provenance fields are additive; consumers may project current state from fact history"], :version "v1", :enums [], :attributes [{:ident :fact/source-id, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Stable id of the source (user/integration/rule/import run)"} {:ident :fact/source-type, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Source class: :user, :integration, :rule, :import, :system"} {:ident :fact/adapter, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Adapter or surface that emitted the fact (e.g., :adapter/telegram, :adapter/web-ui)"} {:ident :fact/run-id, :type :db.type/uuid, :cardinality :db.cardinality/one, :doc "Run/execution id for imports/rules"} {:ident :fact/workspace, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Workspace/tenant scope"} {:ident :fact/created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "When the fact was written"} {:ident :fact/valid-from, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Validity start"} {:ident :fact/valid-until, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Validity end (optional)"} {:ident :fact/evidence-ref, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Pointer to raw payload or evidence storage"} {:ident :fact/evidence-hash, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Hash of evidence/payload for tamper detection"} {:ident :fact/rule-id, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Rule identifier that produced the fact (when applicable)"} {:ident :fact/rule-version, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Rule version used when the fact was produced"}]}} {:id "schema/schema/support-responsibility", :kind :schema, :name "Support Responsibility", :registry :schema, :registry-id :cap/schema/support-responsibility, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema []}, :title "Support Responsibility", :id :cap/schema/support-responsibility, :invariants ["Role in enum" "Entity type set to :entity.type/support-entry"], :version "v1", :enums #:support.entry{:role [:support/we :support/you]}, :attributes [{:ident :support.entry/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Support entry identity"} {:ident :support.entry/role, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Role enum (we/you)"} {:ident :support.entry/text, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Responsibility text"} {:ident :support.entry/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering in support list"}]}} {:id "schema/schema/system", :kind :schema, :name "System Meta", :registry :schema, :registry-id :cap/schema/system, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity], :tooling []}, :title "System Meta", :id :cap/schema/system, :invariants ["System metadata uses a single identity" "Seed marker persists even if app data is changed"], :version "v1", :enums [], :attributes [{:ident :system/id, :type :db.type/keyword, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "System identity (seed marker/upsert target)"} {:ident :system/seeded-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Timestamp when fixtures were first seeded"}]}} {:id "schema/schema/tag", :kind :schema, :name "Tag", :registry :schema, :registry-id :cap/schema/tag, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:actions [:cap/action/tag-create :cap/action/tag-update :cap/action/tag-delete], :views [:cap/view/tasks]}, :title "Tag", :id :cap/schema/tag, :invariants ["Tag names unique per workspace (case-insensitive)" "Tags scoped by workspace" "Entity type set to :entity.type/tag"], :version "v1", :enums [], :attributes [{:ident :tag/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Tag identity"} {:ident :tag/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Tag display name"} {:ident :tag/workspace, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Workspace/tenant for scoping"}]}} {:id "schema/schema/task", :kind :schema, :name "Task", :registry :schema, :registry-id :cap/schema/task, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags [:task/extended?]}, :history {:strategy :overwrite}, :related {:actions [:cap/action/task-create :cap/action/task-update :cap/action/task-set-status :cap/action/task-assign :cap/action/task-set-due :cap/action/task-set-tags :cap/action/task-archive], :views [:cap/view/tasks :cap/view/login]}, :title "Task", :id :cap/schema/task, :invariants ["Title non-empty" "Status in enum" "Priority in enum" "Tags reference existing tag entities" "Entity type set to :entity.type/task" "Automation key unique when present"], :version "v1", :enums #:task{:status [:todo :in-progress :pending :done], :priority [:low :medium :high]}, :attributes [{:ident :task/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Task identity"} {:ident :task/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Short title"} {:ident :task/description, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Rich description/notes"} {:ident :task/status, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Task status enum"} {:ident :task/pending-reason, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Reason provided when task is pending"} {:ident :task/assignee, :type :db.type/ref, :cardinality :db.cardinality/one, :doc "Assigned user"} {:ident :task/due-date, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Optional due date"} {:ident :task/priority, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Priority enum"} {:ident :task/tags, :type :db.type/ref, :cardinality :db.cardinality/many, :doc "Tags (refs to :tag/id)"} {:ident :task/archived?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Archived flag"} {:ident :task/extended?, :type :db.type/boolean, :cardinality :db.cardinality/one, :doc "Feature flag gating future fields"} {:ident :task/automation-key, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Stable idempotency key for automation-created tasks (optional, unique when set)"}]}} {:id "schema/schema/team-member", :kind :schema, :name "Team Member", :registry :schema, :registry-id :cap/schema/team-member, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/business]}, :title "Team Member", :id :cap/schema/team-member, :invariants ["Name non-empty" "Entity type set to :entity.type/team-member"], :version "v1", :enums [], :attributes [{:ident :team.member/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Team member identity"} {:ident :team.member/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Name"} {:ident :team.member/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Role title"} {:ident :team.member/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering"} {:ident :team.member/avatar, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Optional avatar placeholder"}]}} {:id "schema/schema/telegram-message", :kind :schema, :name "Telegram message fact", :registry :schema, :registry-id :cap/schema/telegram-message, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/entity :cap/schema/user]}, :title "Telegram message fact", :id :cap/schema/telegram-message, :invariants ["Entity type set to :entity.type/telegram-message"], :version "v1", :enums [], :attributes [{:ident :telegram.message/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Telegram message fact identity"} {:ident :telegram.message/chat-id, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Telegram chat id (stringified)"} {:ident :telegram.message/from-id, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Telegram from.id sender (if present)"} {:ident :telegram.message/text, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Message text (truncated)"} {:ident :telegram.message/update-id, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Telegram update_id (inbound only)"} {:ident :telegram.message/message-id, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Telegram message_id (if known)"} {:ident :telegram.message/direction, :type :db.type/keyword, :cardinality :db.cardinality/one, :doc "Direction of the message (:inbound or :outbound)"} {:ident :telegram.message/created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Timestamp when this fact was recorded"}]}} {:id "schema/schema/user", :kind :schema, :name "User", :registry :schema, :registry-id :cap/schema/user, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:actions [:cap/action/auth-login :cap/action/user-list :cap/action/user-create :cap/action/user-update :cap/action/user-delete], :views [:cap/view/login :cap/view/user-management]}, :title "User", :id :cap/schema/user, :invariants ["Username unique" "Password stored only for local dev" "Entity type set to :entity.type/user" "Roles optional; when present, use keyword enums" "Telegram chat id unique when set" "Link tokens are single-use and must be used before expiry"], :version "v1", :enums [], :attributes [{:ident :user/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "User identity"} {:ident :user/username, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Login username"} {:ident :user/name, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Display name"} {:ident :user/password, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Local dev password (not for production)"} {:ident :user/roles, :type :db.type/keyword, :cardinality :db.cardinality/many, :doc "User roles for authorization (e.g., :role/content-editor, :role/admin)"} {:ident :user/telegram-chat-id, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Telegram chat id bound to this user (optional)"} {:ident :user/telegram-user-id, :type :db.type/long, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "Telegram user id for auto-recognition (optional, unique when set)"} {:ident :user/telegram-link-token, :type :db.type/string, :cardinality :db.cardinality/one, :unique :db.unique/value, :doc "One-time token to link Telegram chat via /start"} {:ident :user/telegram-link-token-created-at, :type :db.type/instant, :cardinality :db.cardinality/one, :doc "Timestamp when the current link token was issued"}]}} {:id "schema/schema/value", :kind :schema, :name "Value", :registry :schema, :registry-id :cap/schema/value, :source "registries/schema.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :history {:strategy :overwrite}, :related {:schema [:cap/schema/business]}, :title "Value", :id :cap/schema/value, :invariants ["Title non-empty" "Entity type set to :entity.type/value"], :version "v1", :enums [], :attributes [{:ident :value/id, :type :db.type/uuid, :cardinality :db.cardinality/one, :unique :db.unique/identity, :doc "Value identity"} {:ident :value/title, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Value title"} {:ident :value/copy, :type :db.type/string, :cardinality :db.cardinality/one, :doc "Value copy"} {:ident :value/order, :type :db.type/long, :cardinality :db.cardinality/one, :doc "Ordering"}]}} {:id "script/app-smoke.js", :kind :script, :name "app-smoke.js", :source "scripts/app-smoke.js"} {:id "script/checks.sh", :kind :script, :name "checks.sh", :source "scripts/checks.sh"} {:id "script/deploy.sh", :kind :script, :name "deploy.sh", :source "scripts/deploy.sh"} {:id "script/generate-docs.sh", :kind :script, :name "generate-docs.sh", :source "scripts/generate-docs.sh"} {:id "script/load_github_token.sh", :kind :script, :name "load_github_token.sh", :source "scripts/load_github_token.sh"} {:id "script/run-service.sh", :kind :script, :name "run-service.sh", :source "scripts/run-service.sh"} {:id "script/run-site.sh", :kind :script, :name "run-site.sh", :source "scripts/run-site.sh"} {:id "script/run-terminal.sh", :kind :script, :name "run-terminal.sh", :source "scripts/run-terminal.sh"} {:id "script/terminal-verify.sh", :kind :script, :name "terminal-verify.sh", :source "scripts/terminal-verify.sh"} {:id "script/tg-spinup.sh", :kind :script, :name "tg-spinup.sh", :source "scripts/tg-spinup.sh"} {:id "script/tg-watch-webhook.sh", :kind :script, :name "tg-watch-webhook.sh", :source "scripts/tg-watch-webhook.sh"} {:id "script/theme-css-vars.sh", :kind :script, :name "theme-css-vars.sh", :source "scripts/theme-css-vars.sh"} {:id "terminal-command/context.add", :kind :terminal-command, :name "context.add", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/devbot.reset", :kind :terminal-command, :name "devbot.reset", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/file.delete", :kind :terminal-command, :name "file.delete", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/file.update", :kind :terminal-command, :name "file.update", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/file.upload", :kind :terminal-command, :name "file.upload", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.archive", :kind :terminal-command, :name "task.archive", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.assign", :kind :terminal-command, :name "task.assign", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.create", :kind :terminal-command, :name "task.create", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.delete", :kind :terminal-command, :name "task.delete", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.set-due", :kind :terminal-command, :name "task.set-due", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.set-status", :kind :terminal-command, :name "task.set-status", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.set-tags", :kind :terminal-command, :name "task.set-tags", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-command/task.update", :kind :terminal-command, :name "task.update", :source "src/darelwasl/terminal/commands.clj"} {:id "terminal-session/bugfix", :kind :terminal-session-type, :name "Bugfix/Hotfix", :value :bugfix, :source "src/darelwasl/features/terminal.cljs"} {:id "terminal-session/feature", :kind :terminal-session-type, :name "Feature Build", :value :feature, :source "src/darelwasl/features/terminal.cljs"} {:id "terminal-session/integrator", :kind :terminal-session-type, :name "Integrator", :value :integrator, :source "src/darelwasl/features/terminal.cljs"} {:id "terminal-session/main-ops", :kind :terminal-session-type, :name "Main Ops (Data)", :value :main-ops, :source "src/darelwasl/features/terminal.cljs"} {:id "terminal-session/ops", :kind :terminal-session-type, :name "Ops/Admin", :value :ops, :source "src/darelwasl/features/terminal.cljs"} {:id "terminal-session/research", :kind :terminal-session-type, :name "Research/Spike", :value :research, :source "src/darelwasl/features/terminal.cljs"} {:id "theme/dark", :kind :theme, :name "Midnight cobalt", :registry :theme, :registry-id :theme/dark, :source "registries/theme.edn", :data {:motion {:transition "140ms ease"}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Dark minimalist variant with subdued blues", :shadows {:card "0 1px 2px rgba(2,6,23,0.4)", :hover "0 8px 22px rgba(2,6,23,0.45)", :focus "0 0 0 3px var(--colors-focus-ring)", :sheet "-8px 0 24px rgba(2,6,23,0.5)", :sheet-up "0 -12px 24px rgba(2,6,23,0.5)"}, :colors {:danger-soft "rgba(248,113,113,0.12)", :text-on-accent "#0B0F1A", :chip-priority-medium-bg "rgba(245,158,11,0.18)", :chip-danger-bg "rgba(248,113,113,0.18)", :background "#0B0F1A", :focus-ring "rgba(96,165,250,0.22)", :chip-priority-high-bg "rgba(248,113,113,0.18)", :chip-warning-bg "rgba(245,158,11,0.18)", :chip-priority-low-bg "rgba(52,211,153,0.18)", :warning "#F59E0B", :overlay "rgba(2,6,23,0.6)", :danger "#F87171", :success "#34D399", :text-primary "#E2E8F0", :border-strong "#334155", :focus "#60A5FA", :text-secondary "#94A3B8", :chip-todo-bg "rgba(96,165,250,0.18)", :border "#1F2937", :chip-success-bg "rgba(52,211,153,0.18)", :accent "#60A5FA", :accent-strong "#3B82F6", :overlay-strong "rgba(2,6,23,0.75)", :surface "#111827", :surface-muted "#0F172A", :chip-neutral-bg "rgba(226,232,240,0.12)", :focus-ring-strong "rgba(96,165,250,0.32)"}, :related {:views [:cap/view/login :cap/view/tasks]}, :radius {:sm "6px", :md "10px", :lg "14px"}, :title "Midnight cobalt", :components {:control {:height 44, :padding-x 12, :padding-y 8, :radius "var(--radius-sm)", :font-size "var(--typography-font-sizes-body)"}, :control-compact {:height 36, :padding-x 12, :padding-y 8, :radius "var(--radius-sm)", :font-size "var(--typography-font-sizes-meta)"}, :chip {:padding-x 12, :padding-y 8, :radius "var(--radius-md)", :font-size "var(--typography-font-sizes-meta)"}, :list-row {:padding-x 16, :padding-y 12, :min-height 48}, :panel {:padding 20, :radius "var(--radius-md)"}, :toolbar {:padding-x 20, :padding-y 16, :gap 12}}, :id :theme/dark, :typography {:font-family "\"Manrope\", \"Plus Jakarta Sans\", \"Avenir Next\", sans-serif", :font-sizes {:title "22px", :section "18px", :body "15px", :meta "12px"}, :line-heights {:title "30px", :section "26px", :body "22px", :meta "18px"}}, :version "v1", :spacing {:base "4px", :scale ["4px" "8px" "12px" "16px" "20px" "24px" "32px"]}}} {:id "theme/default", :kind :theme, :name "Soft linen + cobalt accent", :registry :theme, :registry-id :theme/default, :source "registries/theme.edn", :data {:motion {:transition "140ms ease"}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Minimalist base with quiet neutrals and a single blue accent", :shadows {:card "0 1px 2px rgba(15,23,42,0.06)", :hover "0 6px 16px rgba(15,23,42,0.08)", :focus "0 0 0 3px var(--colors-focus-ring)", :sheet "-8px 0 24px rgba(15,23,42,0.12)", :sheet-up "0 -12px 24px rgba(15,23,42,0.12)"}, :colors {:danger-soft "rgba(220,38,38,0.08)", :text-on-accent "#F8FAFC", :chip-priority-medium-bg "rgba(217,119,6,0.12)", :chip-danger-bg "rgba(220,38,38,0.12)", :background "#F6F8FB", :focus-ring "rgba(37,99,235,0.18)", :chip-priority-high-bg "rgba(220,38,38,0.12)", :chip-warning-bg "rgba(217,119,6,0.12)", :chip-priority-low-bg "rgba(22,163,74,0.12)", :warning "#D97706", :overlay "rgba(15,23,42,0.25)", :danger "#DC2626", :success "#16A34A", :text-primary "#0F172A", :border-strong "#CBD5E1", :focus "#2563EB", :text-secondary "#5E6B7B", :chip-todo-bg "rgba(37,99,235,0.12)", :border "#E2E8F0", :chip-success-bg "rgba(22,163,74,0.12)", :accent "#2563EB", :accent-strong "#1D4ED8", :overlay-strong "rgba(15,23,42,0.4)", :surface "#FFFFFF", :surface-muted "#EFF2F7", :chip-neutral-bg "rgba(15,23,42,0.08)", :focus-ring-strong "rgba(37,99,235,0.28)"}, :related {:views [:cap/view/login :cap/view/tasks]}, :radius {:sm "6px", :md "10px", :lg "14px"}, :title "Soft linen + cobalt accent", :components {:control {:height 44, :padding-x 12, :padding-y 8, :radius "var(--radius-sm)", :font-size "var(--typography-font-sizes-body)"}, :control-compact {:height 36, :padding-x 12, :padding-y 8, :radius "var(--radius-sm)", :font-size "var(--typography-font-sizes-meta)"}, :chip {:padding-x 12, :padding-y 8, :radius "var(--radius-md)", :font-size "var(--typography-font-sizes-meta)"}, :list-row {:padding-x 16, :padding-y 12, :min-height 48}, :panel {:padding 20, :radius "var(--radius-md)"}, :toolbar {:padding-x 20, :padding-y 16, :gap 12}}, :id :theme/default, :typography {:font-family "\"Manrope\", \"Plus Jakarta Sans\", \"Avenir Next\", sans-serif", :font-sizes {:title "22px", :section "18px", :body "15px", :meta "12px"}, :line-heights {:title "30px", :section "26px", :body "22px", :meta "18px"}}, :version "v1", :spacing {:base "4px", :scale ["4px" "8px" "12px" "16px" "20px" "24px" "32px"]}}} {:id "theme/site-premium", :kind :theme, :name "Premium site", :registry :theme, :registry-id :theme/site-premium, :source "registries/theme.edn", :data {:motion {:transition "160ms ease", :backdrop-blur "10px", :hover-lift "-1px"}, :compatibility {:backward true, :forward true, :flags []}, :purpose "Public site theme with dark hero, light body, and high-contrast CTA", :shadows {:card "0 16px 40px rgba(15,23,42,0.08)"}, :colors {:transparent "transparent", :text-on-accent "#F8FBFC", :hero-pill-bg "rgba(255,255,255,0.12)", :background "#F7F4EF", :hero-card-bg "rgba(255,255,255,0.08)", :hero-step-bg "rgba(255,255,255,0.04)", :warning "#F59E0B", :danger "#F97066", :success "#22C55E", :text-primary "#0F172A", :focus "#0EA5E9", :text-secondary "#445064", :hero-strapline "rgba(248,251,252,0.86)", :hero-step-border "rgba(255,255,255,0.2)", :border "#E0E6EF", :accent "#0EA5E9", :hero-card-border "rgba(255,255,255,0.18)", :accent-strong "#0284C7", :hero-text-muted "rgba(248,251,252,0.7)", :surface "#FFFFFF", :surface-muted "#0F172A"}, :related {:views [:cap/view/site-home :cap/view/site-services :cap/view/site-comparison :cap/view/site-process :cap/view/site-about :cap/view/site-contact]}, :radius {:sm "8px", :md "14px", :lg "18px", :badge "10px", :pill "999px"}, :title "Premium site", :components {:control {:height 44, :padding-x 16, :padding-y 12, :radius "var(--radius-md)", :font-size "var(--typography-font-sizes-body)"}, :control-compact {:height 40, :padding-x 14, :padding-y 10, :radius "var(--radius-md)", :font-size "var(--typography-font-sizes-body)"}, :chip {:padding-x 12, :padding-y 8, :radius "var(--radius-pill)", :font-size "var(--typography-font-sizes-meta)"}, :list-row {:padding-x 16, :padding-y 12, :min-height 44}, :panel {:padding 32, :radius "var(--radius-lg)"}, :toolbar {:padding-x 24, :padding-y 16, :gap 16}}, :id :theme/site-premium, :typography {:font-family "Inter, \"IBM Plex Sans\", system-ui, -apple-system, sans-serif", :font-sizes {:meta "14px", :hero-min "48px", :section "32px", :stat-max "30px", :title "56px", :hero-light-max "48px", :hero-light-min "36px", :body "18px", :stat-min "24px"}, :line-heights {:title "64px", :section "40px", :body "28px", :meta "20px", :hero "1.15", :hero-light "1.2"}, :letter-spacing {:caps-strong "0.08em", :caps "0.06em"}}, :version "v2", :spacing {:base "4px", :scale ["8px" "16px" "24px" "32px" "40px" "56px" "72px" "88px" "104px"], :layout {:max-width "1160px", :hero-min-height "70vh"}, :grid {:stats-min "200px", :card-min "260px", :timeline-min "240px", :team-min "220px"}, :component {:logo-height "72px", :step-index "36px", :rail-node "14px"}, :border {:thin "1px", :thick "2px"}, :size {:x6 "6px", :x10 "10px", :x12 "12px", :x14 "14px", :x18 "18px"}}}} {:id "tooling/tooling/action-contract", :kind :tooling, :name "Action contract harness", :registry :tooling, :registry-id :cap/tooling/action-contract, :source "registries/tooling.edn", :data {:enforces [:contracts :compatibility], :related {:capabilities [:cap/action/task-create :cap/action/task-update :cap/action/task-set-status :cap/action/task-assign :cap/action/task-set-due :cap/action/task-set-tags :cap/action/task-archive :cap/action/auth-login]}, :scope :shared, :invocation "scripts/checks.sh actions", :title "Action contract harness", :gotchas [], :id :cap/tooling/action-contract, :determinism {:fixtures [:fixtures/tasks :fixtures/users]}, :version "v1"}} {:id "tooling/tooling/app-smoke", :kind :tooling, :name "Headless app smoke", :registry :tooling, :registry-id :cap/tooling/app-smoke, :source "registries/tooling.edn", :data {:enforces [:ui-boot], :related {:capabilities [:cap/view/login :cap/view/tasks :cap/view/home]}, :scope :shared, :invocation "scripts/checks.sh app-smoke", :title "Headless app smoke", :gotchas ["Requires Playwright Chromium download (handled by scripts/checks.sh); needs outbound network on first run." "Seeds a temp Datomic storage under .cpcache/datomic-smoke-*; uses APP_PORT 3100 by default and will kill anything listening there during the smoke run."], :id :cap/tooling/app-smoke, :determinism {:fixtures [:fixtures/tasks :fixtures/users]}, :version "v1"}} {:id "tooling/tooling/edn-validate", :kind :tooling, :name "Registry EDN validation", :registry :tooling, :registry-id :cap/tooling/edn-validate, :source "registries/tooling.edn", :data {:enforces [:registry-shape :fixtures-consistency], :related {:capabilities [:cap/schema/user :cap/schema/task]}, :scope :shared, :invocation "scripts/checks.sh registries", :title "Registry EDN validation", :gotchas [], :id :cap/tooling/edn-validate, :determinism {:fixtures [:fixtures/users :fixtures/tasks]}, :version "v1"}} {:id "tooling/tooling/fixtures-loader", :kind :tooling, :name "Fixture loader", :registry :tooling, :registry-id :cap/tooling/fixtures-loader, :source "registries/tooling.edn", :data {:enforces [:fixtures-load], :related {:capabilities [:cap/schema/user :cap/schema/task]}, :scope :shared, :invocation "clojure -M:seed [--temp]", :title "Fixture loader", :gotchas ["Run from repo root; --temp seeds a Datomic dev-local DB in :mem storage by default."], :id :cap/tooling/fixtures-loader, :determinism {:fixtures [:fixtures/users :fixtures/tasks]}, :version "v1"}} {:id "tooling/tooling/import-check", :kind :tooling, :name "Land registry import check", :registry :tooling, :registry-id :cap/tooling/import-check, :source "registries/tooling.edn", :data {:enforces [:import :schema], :related {:capabilities [:cap/action/parcel-import :cap/schema/person :cap/schema/parcel :cap/schema/ownership]}, :scope :shared, :invocation "scripts/checks.sh import", :title "Land registry import check", :gotchas ["Runs importer against data/land/hrib_parcele_upisane_osobe.csv into a temp Datomic (:mem); dataset must be present." "Uses deterministic IDs; reruns are safe. Add --dry-run when calling manually to skip transact."], :id :cap/tooling/import-check, :determinism {:fixtures [:fixtures/land-registry-sample]}, :version "v1"}} {:id "tooling/tooling/migration-backfill", :kind :tooling, :name "Schema migration/backfill check", :registry :tooling, :registry-id :cap/tooling/migration-backfill, :source "registries/tooling.edn", :data {:enforces [:schema :migration], :related {:capabilities [:cap/schema/entity :cap/schema/task :cap/schema/tag :cap/schema/user]}, :scope :shared, :invocation "scripts/checks.sh schema", :title "Schema migration/backfill check", :gotchas ["Runs a temp DB with fixtures, strips :entity/type, then backfills to ensure migration code remains valid."], :id :cap/tooling/migration-backfill, :determinism {:fixtures [:fixtures/tasks :fixtures/users :fixtures/tags]}, :version "v1"}} {:id "tooling/tooling/registry-dump", :kind :tooling, :name "Registry dump endpoint", :registry :tooling, :registry-id :cap/tooling/registry-dump, :source "registries/tooling.edn", :data {:enforces [:registry-readonly], :related {:capabilities [:cap/tooling/edn-validate]}, :scope {:writes? false, :reads [:registries]}, :invocation "GET /api/registries[?name=schema|actions|views|integrations|tooling|theme|automations]", :title "Registry dump endpoint", :gotchas ["Admin session required; returns raw registry EDN content for diagnostics only."], :id :cap/tooling/registry-dump, :determinism :high, :version "v1"}} {:id "tooling/tooling/schema-load", :kind :tooling, :name "Schema load check", :registry :tooling, :registry-id :cap/tooling/schema-load, :source "registries/tooling.edn", :data {:enforces [:schema], :related {:capabilities [:cap/schema/entity :cap/schema/task :cap/schema/user :cap/schema/tag]}, :scope :shared, :invocation "scripts/checks.sh schema", :title "Schema load check", :gotchas ["Runs against a temp Datomic dev-local DB with :mem storage; run via scripts/checks.sh schema from the repo root."], :id :cap/tooling/schema-load, :determinism {:fixtures [:fixtures/tasks :fixtures/users]}, :version "v1"}} {:id "tooling/tooling/site-process", :kind :tooling, :name "Public Site Process", :registry :tooling, :registry-id :cap/tooling/site-process, :source "registries/tooling.edn", :data {:id :cap/tooling/site-process, :title "Public Site Process", :version "v0", :invocation {:dev "scripts/run-site.sh", :prod "systemd unit (site)"}, :scope {:writes? false, :reads [:datomic]}, :determinism :high, :enforces {:capabilities [:cap/schema/content-page :cap/schema/content-block :cap/schema/content-tag]}, :compatibility {:backward true, :forward true, :flags []}}} {:id "tooling/tooling/theme-css-vars", :kind :tooling, :name "Theme CSS variable generator", :registry :tooling, :registry-id :cap/tooling/theme-css-vars, :source "registries/tooling.edn", :data {:enforces [:theme-vars], :related {:capabilities [:theme/default]}, :scope :shared, :invocation "npm run theme:css-vars (scripts/theme-css-vars.sh :theme/default public/css/theme.css)", :title "Theme CSS variable generator", :gotchas [], :id :cap/tooling/theme-css-vars, :determinism {:fixtures []}, :version "v1"}} {:id "view/view/betting", :kind :view, :name "Betting CLV Trainer", :registry :views, :registry-id :cap/view/betting, :source "registries/views.edn", :data {:id :cap/view/betting, :title "Betting CLV Trainer", :version "v1", :data {:sources [{:id :betting/events, :source :cap/schema/betting-event, :pull [:betting.event/id :betting.event/home-team :betting.event/away-team :betting.event/commence-time]} {:id :betting/bets, :source :cap/schema/betting-bet, :pull [:betting.bet/id :betting.bet/selection :betting.bet/odds-decimal :betting.bet/implied-prob :betting.bet/status]}]}, :actions [:cap/action/betting-events :cap/action/betting-odds :cap/action/betting-bet-log :cap/action/betting-close :cap/action/betting-settle], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300}, :state-model :finite, :layout {:desktop "list + detail", :mobile "stacked"}}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/betting-event :cap/schema/betting-bet :cap/schema/betting-quote]}}} {:id "view/view/control-panel", :kind :view, :name "Website Control Panel", :registry :views, :registry-id :cap/view/control-panel, :source "registries/views.edn", :data {:id :cap/view/control-panel, :title "Website Control Panel", :version "v0", :data {:sources [{:id :content/pages, :source :cap/schema/content-page, :pull [:content.page/id :content.page/title :content.page/path :content.page/visible? #:content.page{:blocks [:content.block/id :content.block/title]}]} {:id :content/blocks, :source :cap/schema/content-block, :pull [:content.block/id :content.block/title :content.block/type :content.block/slug :content.block/order :content.block/visible? #:content.block{:tag [:content.tag/id :content.tag/name]}]} {:id :content/tags, :source :cap/schema/content-tag, :pull [:content.tag/id :content.tag/name]}]}, :actions [:cap/action/content-pages :cap/action/content-blocks :cap/action/content-tags], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300, :pagination {:default-limit 25, :max-limit 200}}, :state-model :finite, :layout {:desktop "list + detail", :mobile "stacked"}, :toggles [:light-dark-switch]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/content-page :cap/schema/content-block :cap/schema/content-tag]}}} {:id "view/view/file-library", :kind :view, :name "File Library", :registry :views, :registry-id :cap/view/file-library, :source "registries/views.edn", :data {:id :cap/view/file-library, :title "File Library", :version "v1", :data {:sources [{:id :files/library, :source :cap/schema/file, :pull [:file/id :file/name :file/slug :file/type :file/mime :file/size-bytes :file/created-at]}]}, :actions [:cap/action/file-upload :cap/action/file-delete], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 250, :pagination {:default-limit 25, :max-limit 200}}, :state-model :finite, :layout {:desktop "list + preview", :mobile "stacked"}}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/file]}}} {:id "view/view/home", :kind :view, :name "Home summary", :registry :views, :registry-id :cap/view/home, :source "registries/views.edn", :data {:id :cap/view/home, :title "Home summary", :version "v1", :data {:sources [{:id :tasks/recent, :source :cap/schema/task, :pull [:task/id :task/title :task/status :task/priority :task/due-date :task/updated-at :task/archived? #:task{:assignee [:user/id :user/username :user/name]} #:task{:tags [:tag/id :tag/name]}]} {:id :tasks/counts, :source :cap/schema/task, :pull []}]}, :actions [:cap/action/task-create], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 200}, :state-model :finite, :layout {:desktop "summary cards + list snippets", :mobile "stacked cards/list"}}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/task :cap/schema/user :cap/schema/tag]}}} {:id "view/view/land-registry", :kind :view, :name "Land Registry", :registry :views, :registry-id :cap/view/land-registry, :source "registries/views.edn", :data {:id :cap/view/land-registry, :title "Land Registry", :version "v1", :data {:sources [{:id :land/people, :source :cap/schema/person, :pull [:person/id :person/name :person/address]} {:id :land/parcels, :source :cap/schema/parcel, :pull [:parcel/id :parcel/cadastral-id :parcel/number :parcel/address :parcel/area-m2]} {:id :land/ownerships, :source :cap/schema/ownership, :pull [:ownership/id #:ownership{:person [:person/id :person/name]} #:ownership{:parcel [:parcel/id :parcel/cadastral-id :parcel/number]} :ownership/share :ownership/area-share-m2]}]}, :actions [:cap/action/parcel-import :cap/action/person-list :cap/action/person-detail :cap/action/parcel-list :cap/action/parcel-detail :cap/action/parcel-stats], :ux {:states [:loading :ready :error], :performance {:budget_ms 300, :pagination {:default-limit 25, :max-limit 200}}, :state-model :finite, :layout {:desktop "multi-column lists + detail panes + stats cards", :mobile "stacked sections with sheet detail"}}, :compatibility {:backward true, :forward true, :flags [:land-registry/enabled]}, :related {:schema [:cap/schema/person :cap/schema/parcel :cap/schema/ownership]}}} {:id "view/view/login", :kind :view, :name "Login", :registry :views, :registry-id :cap/view/login, :source "registries/views.edn", :data {:id :cap/view/login, :title "Login", :version "v1", :data {:source :cap/schema/user, :pull [:user/username]}, :actions [:cap/action/auth-login], :ux {:states [:loading :ready :error], :performance {:budget_ms 200}, :state-model :finite}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/user]}}} {:id "view/view/pr-overview", :kind :view, :name "PR Overview", :registry :views, :registry-id :cap/view/pr-overview, :source "registries/views.edn", :data {:id :cap/view/pr-overview, :title "PR Overview", :version "v1", :data {:sources [{:id :github/pulls, :source :cap/action/github-pulls, :pull [:pulls]}]}, :actions [:cap/action/github-pulls], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300}, :state-model :finite, :layout {:desktop "list + detail", :mobile "stacked"}}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema []}}} {:id "view/view/site-about", :kind :view, :name "Public Site  About", :registry :views, :registry-id :cap/view/site-about, :source "registries/views.edn", :data {:id :cap/view/site-about, :title "Public Site  About", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:values :team-members :businesses :contacts]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300}, :state-model :finite, :layout {:desktop "values/team/contact", :mobile "stacked sections"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/value :cap/schema/team-member :cap/schema/business :cap/schema/contact], :actions [:cap/action/content-v2]}}} {:id "view/view/site-comparison", :kind :view, :name "Public Site  Comparison", :registry :views, :registry-id :cap/view/site-comparison, :source "registries/views.edn", :data {:id :cap/view/site-comparison, :title "Public Site  Comparison", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:comparison-rows :licenses]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300}, :state-model :finite, :layout {:desktop "comparison table", :mobile "stacked rows/cards"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/comparison-row :cap/schema/license], :actions [:cap/action/content-v2]}}} {:id "view/view/site-contact", :kind :view, :name "Public Site  Contact", :registry :views, :registry-id :cap/view/site-contact, :source "registries/views.edn", :data {:id :cap/view/site-contact, :title "Public Site  Contact", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:businesses :contacts]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 200}, :state-model :finite, :layout {:desktop "contact CTA + details", :mobile "stacked"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/business :cap/schema/contact], :actions [:cap/action/content-v2]}}} {:id "view/view/site-home", :kind :view, :name "Public Site  Home", :registry :views, :registry-id :cap/view/site-home, :source "registries/views.edn", :data {:id :cap/view/site-home, :title "Public Site  Home", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:licenses :comparison-rows :journey-phases :activation-steps :personas :support-entries :hero-stats :hero-flows :faqs :values :team-members :contacts :businesses]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 400}, :state-model :finite, :layout {:desktop "Template A sections", :mobile "stacked sections"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/license :cap/schema/comparison-row :cap/schema/journey-phase :cap/schema/activation-step :cap/schema/persona :cap/schema/support-responsibility :cap/schema/hero-stat :cap/schema/hero-flow :cap/schema/faq :cap/schema/value :cap/schema/team-member :cap/schema/business :cap/schema/contact], :actions [:cap/action/content-v2]}}} {:id "view/view/site-process", :kind :view, :name "Public Site  Process", :registry :views, :registry-id :cap/view/site-process, :source "registries/views.edn", :data {:id :cap/view/site-process, :title "Public Site  Process", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:journey-phases :activation-steps]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300}, :state-model :finite, :layout {:desktop "timeline + steps", :mobile "stacked sections"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/journey-phase :cap/schema/activation-step], :actions [:cap/action/content-v2]}}} {:id "view/view/site-service-leaf", :kind :view, :name "Public Site  Service Leaf", :registry :views, :registry-id :cap/view/site-service-leaf, :source "registries/views.edn", :data {:id :cap/view/site-service-leaf, :title "Public Site  Service Leaf", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:licenses :journey-phases :activation-steps :values :team-members :businesses]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 400}, :state-model :finite, :layout {:desktop "Template C (deliverables/proof/steps)", :mobile "stacked sections"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/license :cap/schema/journey-phase :cap/schema/activation-step :cap/schema/value :cap/schema/team-member :cap/schema/business], :actions [:cap/action/content-v2]}}} {:id "view/view/site-services", :kind :view, :name "Public Site  Services Hub", :registry :views, :registry-id :cap/view/site-services, :source "registries/views.edn", :data {:id :cap/view/site-services, :title "Public Site  Services Hub", :version "v1", :data {:sources [{:id :content/v2, :source :cap/action/content-v2, :pull [:licenses :journey-phases :activation-steps :values :team-members :businesses]}]}, :actions [:cap/action/content-v2], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 400}, :state-model :finite, :layout {:desktop "Template B sections", :mobile "stacked sections"}, :theme [:theme/site-premium]}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema [:cap/schema/license :cap/schema/journey-phase :cap/schema/activation-step :cap/schema/value :cap/schema/team-member :cap/schema/business], :actions [:cap/action/content-v2]}}} {:id "view/view/system-services", :kind :view, :name "System Services", :registry :views, :registry-id :cap/view/system-services, :source "registries/views.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :purpose "Health checks + restart controls for core services.", :related {:schema []}, :actions [:cap/action/system-services :cap/action/system-service-restart], :title "System Services", :ux {:states [:loading :ready :error], :performance {:budget_ms 200}, :state-model :finite, :layout {:desktop "grid cards", :mobile "stacked"}}, :id :cap/view/system-services, :version "v1", :data {:sources [{:id :system/services, :source :cap/action/system-services, :pull []}]}}} {:id "view/view/tasks", :kind :view, :name "Task List + Detail", :registry :views, :registry-id :cap/view/tasks, :source "registries/views.edn", :data {:id :cap/view/tasks, :title "Task List + Detail", :version "v1", :data {:source :cap/schema/task, :pull [:task/id :task/title :task/description :task/status :task/assignee :task/due-date :task/priority :task/tags :task/archived?]}, :actions [:cap/action/task-create :cap/action/task-update :cap/action/task-set-status :cap/action/task-assign :cap/action/task-set-due :cap/action/task-set-tags :cap/action/task-archive :cap/action/tag-create :cap/action/tag-update :cap/action/tag-delete :cap/action/task-delete], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 250, :pagination {:default-limit 25, :max-limit 200}}, :state-model :finite, :layout {:desktop "list + side panel", :mobile "stacked with sheet"}, :theme [:theme/default :theme/dark], :toggles [:light-dark-switch]}, :compatibility {:backward true, :forward true, :flags [:task/extended?]}, :related {:schema [:cap/schema/task :cap/schema/user :cap/schema/tag]}}} {:id "view/view/terminal", :kind :view, :name "Terminal Sessions", :registry :views, :registry-id :cap/view/terminal, :source "registries/views.edn", :data {:id :cap/view/terminal, :title "Terminal Sessions", :version "v1", :data {:sources [{:id :terminal/sessions, :source :cap/integration/terminal-service, :pull []}]}, :actions [:cap/action/terminal-sessions :cap/action/terminal-session-create :cap/action/terminal-session-input :cap/action/terminal-session-output :cap/action/terminal-session-resume :cap/action/terminal-session-restart-app :cap/action/terminal-session-complete], :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 300}, :state-model :finite, :layout {:mobile "list -> chat", :desktop "single panel"}}, :compatibility {:backward true, :forward true, :flags []}, :related {:schema []}}} {:id "view/view/user-management", :kind :view, :name "User Management", :registry :views, :registry-id :cap/view/user-management, :source "registries/views.edn", :data {:compatibility {:backward true, :forward true, :flags []}, :purpose "Admin-only user creation, role management, and deletion.", :related {:schema [:cap/schema/user]}, :actions [:cap/action/user-list :cap/action/user-create :cap/action/user-update :cap/action/user-delete], :title "User Management", :ux {:states [:loading :empty :ready :error], :performance {:budget_ms 250}, :state-model :finite, :layout {:desktop "list + detail", :mobile "stacked"}}, :id :cap/view/user-management, :version "v1", :data {:source :cap/schema/user, :pull [:user/id :user/username :user/name :user/roles]}}}]}